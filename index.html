<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.52">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MPA Europe map platform</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="index_files/libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="index_files/libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
<style> @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap'); #title-block-header { display: none;} #quarto-content>* {padding-top: 0px;} </style>
<link rel="shortcut icon" href="www/favicon.ico">


</head>

<body class="fullcontent">

<div class="page-layout-custom">  

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">MPA Europe map platform</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- Temporary announcement --->
<div id="quarto-announcement" class="alert alert-success" data-announcement-id="9616bfb5c47a60811ea96e08f2ae1bd0" style="display: flex; justify-content: space-between; padding-bottom: 0px !important; margin: 0px; padding-top: 5px !important;">
<div style="display: flex;">
<i class="bi bi-info-circle quarto-announcement-icon" style="padding-right: 15px;"></i>
<div class="quarto-announcement-content">
<p>
<strong>Models were updated to version 2</strong>
</p>
</div>
</div>
<i class="bi bi-x-lg quarto-announcement-action" onclick="const element = document.getElementById(&quot;quarto-announcement&quot;); element.remove();" style="cursor: pointer;"></i>
</div>
<!-- Add the top grid (map on the left, tabs on the right) --->
<div class="grid column-screen gridalt">
<div class="g-col-md-8 g-col-12">
<div class="cell">
<div class="cell-output-display">
<style type="text/css">/* css styles */

/* Grid style */
.colordiv {
  background-color: #f6f6f6;
  position: relative;
}

.gridalt {
 gap: 0;
}
.gridaltsm {
 gap: 0.05;
}

/* Tabs */
.nav-tabs {
    border-bottom: 0px solid #ec279b;
    background: #2da4c9;/*#168aad;*/
}

.nav-tabs .nav-item {
    margin-top: 0;
    border: 0px;
    border-radius: 0;
}

a#tabset-1-1-tab {
    background: #184e77;
}
a#tabset-1-2-tab {
    background: #1e6091;
}
a#tabset-1-3-tab {
    background: #1a759f;
}
a#tabset-1-4-tab {
    background: #168aad;
}
a#tabset-1-5-tab {
    background: #2da4c9;
}

.nav-link {
    display: block;
    padding: .5rem 1rem;
    color: #ffffff;
    text-decoration: none;
    font-size: smaller;
    font-weight: 600;
    -webkit-text-decoration: none;
    -moz-text-decoration: none;
    -ms-text-decoration: none;
    -o-text-decoration: none;
    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out
}

.nav-tabs .nav-link {
    margin-bottom: 0px;
    background: none;
    border: 0px;
    border-radius: 0;
}

.nav-tabs .nav-link.active,.nav-tabs .nav-item.show .nav-link {
    color: #184e77;
    background-color: #f6f6f6 !important;
    border: 0px;
    border-radius: 0;
}

.nav-link:hover,.nav-link:focus {
    color: white;
    border: 0px;
    border-radius: 0;
}

.tab-content {
    margin-top: 0px;
    border-left: #dee2e6 0px solid;
    border-right: #dee2e6 0px solid;
    border-bottom: #dee2e6 0px solid;
    margin-left: 0;
    padding: 0.2em;
    margin-bottom: 0.2em
}

/* Input div classes */
.itdiv_class .shiny-input-select {
   font-style: italic;
}

.scenario_class {
  font-size: 11px;
  margin: 0;
}

.scenario_class .selectize-input {
  font-size: 11px;
  margin: 0;
}

.scenario_class .selectize-dropdown,
.scenario_class .selectize-input,
.scenario_class .selectize-input input {
  font-size: 11px;
  margin: 0;
}

.bottom-container {
  position: absolute;
  bottom: 0;
  margin-bottom: 6em;
  margin-right: 1em;
}


/* Selectize controlers */
.selectize-control.single .selectize-input:after {
  border-color: #cccccc transparent transparent transparent;
}
.selectize-control.single .selectize-input.dropdown-active:after {
  border-color: transparent transparent #cccccc transparent;
}
.selectize-input {
    border: 1px solid #cccccc;
    background-color: #00000000 !important;
    border-radius: 0.2em;
}

.form-group.shiny-input-container {
  margin-bottom: 5px;
}

.form-label, .shiny-input-container .control-label {
  margin-bottom: .01rem;
}


/* Others */
.tabdiv {
    min-height: 500px;
    margin-left: 0.5em;
    margin-right: 0.5em;
    margin-top: 0.5em;
}

.material-symbols-outlined {
  display: inline-flex;
  vertical-align: top;
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 24
}

/* Titles and context */
#species_title {
  margin-top: 0.3em;
  color: #184e77;
  font-size: 25px;
  font-weight: 600;
  font-style: italic;
}

#thermal_species_title {
  margin-top: 0.3em;
  color: #1e6091;
  font-size: 25px;
  font-weight: 600;
  font-style: italic;
}

#habitat_title {
  margin-top: 0.3em;
  color: #1a759f;
  font-size: 25px;
  font-weight: 600;
  font-style: italic;
}

#diversity_title {
  margin-top: 0.3em;
  color: #168aad;
  font-size: 25px;
  font-weight: 600;
  font-style: italic;
}

.context_info {
  margin-top: 0.3em;
  color: #545454;
  font-size: 12px;
}

.context-icons {
  color: #545454;
  font-size: 11px;
  position: absolute;
  bottom: 0;
  margin-bottom: 1em;
}

.context-icons-box {
  cursor: pointer;
  padding: 5px;
}


/* Sections */
.body-section {
  margin-right: 2em;
  margin-left: 2em;
  margin-top: 2em;
}

.body-title {
  margin-top: 0.3em;
  color: #184e77;
  font-size: 22px;
  font-weight: 600;
}

.body-text {
  margin-top: 0.3em;
  color: #545454;
  font-size: 14px;
}

.methods-div {
  margin-top: 2em;
  padding: 2em;
  padding-top: 1em;
  color: #545454;
  background-color: #f6f6f6;
}

.footer-div {
  margin-top: 0em;
  margin-bottom: -2em;
  font-size: 12px;
  padding: 2em;
  padding-top: 1em;
  color: #ffffff;
  background-color: #184e77;
}

#footer-links a {
  font-size: 12px;
  color: #B2EDFA;
  text-decoration: none;
}

#footer-credits {
  font-size: 9px;
}



/* Leaflet */
.leaflet-touch .leaflet-bar {
    border: none;
    border-bottom: 0px;
}

.leaflet-touch .leaflet-control-layers {
  border: none;
  border-bottom: 0px;
}

.leaflet-touch .leaflet-bar a:first-child {
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}
.leaflet-touch .leaflet-bar a:last-child {
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
}
    
.leaflet-bar button:last-of-type {
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
    border-bottom: none;
}
.leaflet-bar button:first-of-type {
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.leaflet-bar a, .leaflet-bar a:hover {
  border-bottom: 0px;
}

a#leafletEasyPrint {
  border-bottom-left-radius: 6px !important;
  border-bottom-right-radius: 6px !important;
  border-top-left-radius: 6px !important;
    border-top-right-radius: 6px !important;
  /*background-color: rgb(0,0,0,0);*/
}

a:hover#leafletEasyPrint {
  border-bottom-left-radius: 6px !important;
  border-bottom-right-radius: 6px !important;
  border-top-left-radius: 6px !important;
    border-top-right-radius: 6px !important;
  /*background-color: rgb(0,0,0,0);*/
}

.easyPrintHolder .easyPrintSizeMode:last-child a {
  border-bottom-left-radius: 6px !important;
  border-bottom-right-radius: 6px !important;
  border-top-left-radius: 6px !important;
    border-top-right-radius: 6px !important;
}


a.leaflet-buttons-control-button {
  border-bottom-left-radius: 6px !important;
  border-bottom-right-radius: 6px !important;
  border-top-left-radius: 6px !important;
    border-top-right-radius: 6px !important;
}

/*
a.A4Portrait, a.A4Landscape, a.CurrentSize {
  background-color: rgb(0,0,0,0);
}
*/

.graphDiv {
  display: none;
  position: absolute;
  top: 50px;
  right: 20px;
  z-index: 1000;
  background-color: white;
  padding: 10px;
  border-radius: 8px;
  color: grey;
  font-size: 10px;
}

.graphDivButton {
  position: absolute;
  top: 5px;
  right: 5px;
  border: none;
  background-color: transparent;
  font-size: 18px; 
  cursor: pointer;
}

.checkDiv {
  position: absolute;
  bottom: 1px;
  left: 50px;
  z-index: 900;
  padding: 1px;
  border-radius: 8px;
  color: white;
  font-size: 12px;
}

.sideDiv {
  position: absolute;
  bottom: 45px;
  left: 1%;
  z-index: 1000;
  padding: 2px;
  border-radius: 3px;
  color: #184e77;
  background-color: rgba(255, 255, 255, 0.7);
  font-size: 12px;
  font-weight: bold;
}

.sideDivRight {
  position: absolute;
  bottom: 45px;
  right: 1%;
  z-index: 1000;
  padding: 2px;
  border-radius: 3px;
  color: #184e77;
  background-color: rgba(255, 255, 255, 0.7);
  font-size: 12px;
  font-weight: bold;
}


/* Waiting div */
.busyDiv {
  position: absolute;
  top: 0px;
  left: 0px;
  z-index: 3000;
  background-color: white;
  color: #545454;
  font-size: 20px;
}

a {
  text-decoration: none !important;
  color: #168aad;
}


/* Buttons */
.extra-button {
   display: inline-block;
   padding: 5px;
   border: 2px solid #184e77; /* Blue outline */
   background-color: transparent; /* No background */
   color: #184e77; /* Text color same as outline */
   font-weight: bold; /* Bold text */
   text-align: center; /* Center the text */
   vertical-align: middle; /* Center the text vertically */
   transition: all 0.3s ease; /* Fading animation on hover */
   cursor: pointer; /* Pointer cursor on hover */
   font-size: 14px;
}

.extra-button:hover {
    background-color: transparent; /* Background color on hover */
    border: 2px solid #168aad; /* Blue outline */
    color: #168aad; /* Text color on hover */
}

.download-button {
   display: inline-block;
   padding: 5px;
   border: 2px solid #0F7861; /* Blue outline */
   background-color: transparent; /* No background */
   color: #0F7861; /* Text color same as outline */
   font-weight: bold; /* Bold text */
   text-align: center; /* Center the text */
   vertical-align: middle; /* Center the text vertically */
   transition: all 0.3s ease; /* Fading animation on hover */
   cursor: pointer; /* Pointer cursor on hover */
   font-size: 14px;
}

.download-button:hover {
    background-color: transparent; /* Background color on hover */
    border: 2px solid #14BD99; /* Blue outline */
    color: #14BD99; /* Text color on hover */
}

.extra-buttons-cont {
    display: flex;
    justify-content: center; /* Center the buttons horizontally */
    gap: 50px; /* Space between buttons */
}

/* Json visualizer */

.jse-menu.svelte-497ud4 {
  background: #184e77 !important;
  border-bottom: 0px !important;
}

button.jse-button.jse-group-button.jse-selected.svelte-497ud4 {
  color: #184e77 !important;
}

/* Extra control species tab */
.ecsp-controls {
  display: flex;
  min-height: 45px;
  font-size: 14px;
  justify-content: flex-start;
  /*justify-content: space-between;*/
  /* max-width: 400px; */
  margin: 0 auto;
  background: #f6f6f6;
  /* padding: 10px 0; */
}

.ecsp-controls .form-group.shiny-input-container {
  display: flex;
  justify-content: start;
  margin-right: 2px;
  margin-left: 25px;
  /* max-width: 400px; */
  /* margin: -1px auto; */
  /* padding-right: 10px; */
}

.ecsp-controls .shiny-input-container .control-label {
  margin-bottom: 0px;
  align-content: space-evenly;
  margin-right: 10px;
}

.ecsp-controls .shiny-input-select.selectize-control.single.plugin-selectize-plugin-a11y {
  padding-top: 4px;
  min-width: 110%;
}

.ecsp-controls .form-switch {
  padding-left: 10px;
  padding-top: 10px;
}

.ecsp-controls .form-switch .form-check-input {
  margin-left: -5px;
} 

.ecsp-controls .selectize-control.single .selectize-input:not(.no-arrow):after {
  content: " ";
  display: block;
  position: absolute;
  top: 50%;
  right: 4px;
  margin-top: -3px;
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 5px 5px 0 5px;
  border-color: #333 transparent transparent transparent;
}

@media (max-width: 830px) {
  .ecsp-controls {
    display: block !important;
  }

  .ecsp-controls .shiny-input-select.selectize-control.single.plugin-selectize-plugin-a11y {
    padding-top: 4px;
    min-width: 100%;
  }

  .ecsp-controls .form-switch .form-check-input {
    margin-left: -10px;
  } 

  .ecsp-controls .form-group.shiny-input-container {
    width: 300px !important;
  }
}

.spinner--1 {
  border-top: 4px solid #8e929a!important;
  color: #8e929a !important;
}

.loader {
  width: 48px;
  height: 48px;
  border: 5px solid #1e6091;
  border-bottom-color: transparent;
  border-radius: 50%;
  display: inline-block;
  box-sizing: border-box;
  animation: rotation 1s linear infinite;
  }

  @keyframes rotation {
  0% {
      transform: rotate(0deg);
  }
  100% {
      transform: rotate(360deg);
  }
} 

:root{
  --tab-collapsed: 2rem;     /* collapsed width (icons only) */
  --tab-expanded: 12rem;       /* expanded width (icons + label) — adjust as needed */
  --tab-transition: 260ms cubic-bezier(.2,.8,.2,1);
}

/* ensure the tab row never wraps (prevents the jumping line) */
.nav-tabs {
  display: flex;        /* bootstrap already uses flex but ensure these props */
  flex-wrap: nowrap;    /* do NOT wrap items to the next line */
  /*gap: 0.25rem;*/
  overflow-x: auto;     /* allow horizontal scroll if there isn't enough room */
  -webkit-overflow-scrolling: touch;
}

/* base collapsed state (animatable via max-width) */
.nav-tabs .nav-link {
  display: inline-flex;
  align-items: center;
  gap: 0.7rem;
  overflow: hidden;
  white-space: nowrap;
  box-sizing: border-box;
  max-width: var(--tab-collapsed);
  padding: 0.375rem 0.5rem;
  transition: max-width var(--tab-transition), padding var(--tab-transition);
  flex-shrink: 0;                 /* keep visual size stable */
}

/* icon always visible (prevent shrinking) */
.nav-tabs .nav-link i {
  flex: 0 0 auto;
  transition: transform var(--tab-transition);
}

/* label hidden by default (will fade/slide in) */
/* to check */
.nav-tabs .nav-link.active span {
  color: #184e77;
}

.nav-tabs .nav-link span {
  display: inline-block;
  /*color: #57D8FF;*/
  opacity: 0;
  transform: translateX(-6px);
  transition: opacity 140ms linear, transform var(--tab-transition);
}

/* default: active tab expanded when nothing else is hovered */
.nav-tabs .nav-link.active {
  max-width: var(--tab-expanded);
}

/* when the whole tab row is hovered, collapse all tabs first */
.nav-tabs:hover .nav-link {
  max-width: var(--tab-collapsed);
}

/* expand hovered/ focused tab (this rule runs after the collapse rule above) */
.nav-tabs .nav-link:hover,
.nav-tabs .nav-link:focus-visible {
  max-width: var(--tab-expanded);
}

/* when a tab is expanded (hover/focus or active) show its label */
.nav-tabs .nav-link:hover span,
.nav-tabs .nav-link:focus-visible span,
.nav-tabs .nav-link.active span {
  opacity: 1;
  transform: translateX(0);
}

/* small polish: nudge icon when expanding */
/*.nav-tabs .nav-link:hover i,
.nav-tabs .nav-link:focus i {
  transform: translateX(4px);
}*/

/* ensure active hovered stays expanded (redundant but explicit) */
.nav-tabs .nav-link.active:hover {
  max-width: var(--tab-expanded);
}

@media screen and (max-width: 600px) {
  #quality-box {
    font-size: smaller;
    margin-top: 5px !important;
  }

  #modelQualityButton {
    font-size: smaller;
  }
}

#atlasSelectorDiv {
  height: 340px;
  overflow: scroll;
  scrollbar-color: #b0b0b0 #cccccc;
  scrollbar-width: thin;
  background: #eeeeee;
  border-radius: 0px;
  padding: 10px;
}

#atlasSelectorDiv .form-label, .shiny-input-container .control-label {
    margin-bottom: .02rem;
    font-size: smaller !important;
}

#atlasLayerSelectorDiv {
  height: 340px;
  overflow: scroll;
  scrollbar-color: #b0b0b0 #cccccc;
  scrollbar-width: thin;
  background: #eeeeee;
  border-radius: 0px;
  padding: 10px;
}

#atlasLayerSelectorDiv .form-label, .shiny-input-container .control-label {
    margin-bottom: .02rem;
    font-size: smaller !important;
}

@media screen and (max-width: 600px) {
  #atlasSelectorDiv {
    height: 290px;
  }

  #atlasLayerSelectorDiv {
    height: 290px;
  }
}

#atlasTabs .nav-tabs {
    border-bottom: 0px solid #ec279b;
    background: #ffffff00;
}

#atlasTabs .nav-tabs .nav-item {
    margin-right: 10px;
}

#atlasTabs .nav-tabs .nav-link.active, .nav-tabs .nav-item.show .nav-link {
    color: gray;
    background-color: #e5e5e5 !important;
    /* background-color: #ebebeb !important; */
    /* border: 0px; */
    /* border-radius: 5px; */
    padding: 5px !important;
    transition: none !important;
    max-width: unset !important;
    /* border-bottom: 0.15rem solid gray; */
}

#atlasTabs .nav-tabs .nav-link {
    color: gray;
    /* background-color: #2ea4c9 !important; */
    /* border: 0px; */
    /* border-radius: 5px; */
    padding: 5px !important;
    transition: none !important;
    max-width: unset !important;
    /* border-bottom: 0.15rem solid rgba(128, 128, 128, 0); */
}

#atlasTabs .nav-tabs .nav-link:hover,
.nav-tabs .nav-link:focus-visible {
  max-width: unset !important;
  color: rgb(183, 183, 183);
  background-color: #e5e5e5 !important;
}

#atlasTabs .tab-content {
    margin-top: 0px;
    border-left: #e5e5e5 0.1rem solid;
    border-right: #e5e5e5 0.1rem solid;
    border-bottom: #e5e5e5 0.1rem solid;
    border-top: #e5e5e5 0.1rem solid;
    margin-left: 0;
    padding: 0px !important;
    margin-bottom: 0.2em;
}</style>
</div>
<div class="cell-output-display">
<script>document.addEventListener('DOMContentLoaded', function() {
    // Get tabs elements
    const tabs = document.querySelectorAll('.nav-link');
  
    // Get divs with a specific pattern (class 'body-title')
    const divs = document.querySelectorAll('.body-title');

    // Get the div whose background color will change
    const colorChangingDiv = document.getElementById('footer-div');
  
    // Loop through tabs
    tabs.forEach(function(tab) {
      // Add event listener for tab click
      tab.addEventListener('click', function() {
        // Check if tab is active
        if (tab.classList.contains('active')) {
          // Change text color of divs based on the active tab
          if (tab.id === 'tabset-1-1-tab') {
            divs.forEach(function(div) {
              div.style.color = '#184e77'; // Change text color to red for Tab 1
            });
            colorChangingDiv.style.backgroundColor = '#184e77'; // Change to desired color for Tab 1

            // Change value in the app
            var active_tab = {id: "species", nonce: Math.random()};
            Shiny.onInputChange("jsValue", active_tab)

          } else if (tab.id === 'tabset-1-2-tab') {
            divs.forEach(function(div) {
              div.style.color = '#1e6091'; // Change text color to blue for Tab 2
            });
            colorChangingDiv.style.backgroundColor = '#1e6091'; // Change to desired color for Tab 2

            // Change value in the app
            var active_tab = {id: "thermal", nonce: Math.random()};
            Shiny.onInputChange("jsValue", active_tab)

          } else if (tab.id === 'tabset-1-3-tab') {
            divs.forEach(function(div) {
              div.style.color = '#1a759f'; 
            });
            colorChangingDiv.style.backgroundColor = '#1a759f'; 
            
            // Change value in the app
            var active_tab = {id: "habitat", nonce: Math.random()};
            Shiny.onInputChange("jsValue", active_tab)
            
          } else if (tab.id === 'tabset-1-4-tab') {
            divs.forEach(function(div) {
              div.style.color = '#168aad'; 
            });
            colorChangingDiv.style.backgroundColor = '#168aad'; 
            
            // Change value in the app
            var active_tab = {id: "diversity", nonce: Math.random()};
            Shiny.onInputChange("jsValue", active_tab)
          } else if (tab.id === 'tabset-1-5-tab') {
            divs.forEach(function(div) {
              div.style.color = '#2da4c9'; 
            });
            colorChangingDiv.style.backgroundColor = '#2da4c9'; 
            
            // Change value in the app
            var active_tab = {id: "atlas", nonce: Math.random()};
            Shiny.onInputChange("jsValue", active_tab)
          }
        }
      });
    });
  });
  
  Shiny.addCustomMessageHandler('showContext', hideGraphDiv);
  Shiny.addCustomMessageHandler('removeContext', hideGraphDivOn);
  
  function hideGraphDiv(message) {
    var graphDiv = document.getElementById('graphDiv');
      if (graphDiv.style.display === 'none' || graphDiv.style.display === '') {
        graphDiv.style.display = 'block';
      } else {
        graphDiv.style.display = 'none';
      }
  };
  
  function hideGraphDivOn(message) {
    var graphDiv = document.getElementById('graphDiv');
      if (graphDiv.style.display === 'block') {
        graphDiv.style.display = 'none';
      }
  };
  
  // Remove mask control when updating object
  Shiny.addCustomMessageHandler('removeEye', removeEyeFun);
  function removeEyeFun(message) {
    var divToRemove = document.querySelector('.leaflet-bar.easy-button-container.leaflet-control');
    if (divToRemove) {
       // Remove the div from the DOM
       divToRemove.remove();
    }
  }

// Add handler for execution after map
Shiny.addCustomMessageHandler('additionalInfoTrigger', function(value) {
  var message = {id: "id1", nonce: Math.random()};
  Shiny.onInputChange("additionalInfo", message)
});
  
  //TEMPORARY!!!
  Shiny.addCustomMessageHandler('backToTab', backTotabtemp);
  function backTotabtemp(message) {
    
    var tab1 = document.getElementById('tabset-1-1-tab');
    var tab2 = document.getElementById('tabset-1-2-tab');
    var tab3 = document.getElementById('tabset-1-3-tab');
    var tab4 = document.getElementById('tabset-1-4-tab');
    
    // Set the first tab as active
    tab1.classList.add('active');
    tab1.setAttribute('aria-selected', 'true');

    // Remove active state from the second tab
    //tab2.classList.remove('active');
    //tab2.setAttribute('aria-selected', 'false');
    tab3.classList.remove('active');
    tab3.setAttribute('aria-selected', 'false');
    tab4.classList.remove('active');
    tab4.setAttribute('aria-selected', 'false');
    
  };</script>
</div>
<div class="cell-output-display">

</div>
</div>
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div style="position: relative;">
<div class="leaflet html-widget html-widget-output shiny-report-size html-fill-item" id="mainMap" style="width:100%;height:600px;"></div>
<div id="graphDiv" class="graphDiv">
<button onclick="hideGraphDiv()" class="graphDivButton">
<span class="material-symbols-outlined">close</span>
</button>
<div style="width: 200px; height: 300px;">
<div>
<div id="contextMapText" class="shiny-html-output"></div>
<div class="shiny-plot-output html-fill-item" id="contextMap" style="width:100%;height:400px;"></div>
</div>
</div>
</div>
<div id="checkDiv" class="checkDiv">
<div class="shiny-panel-conditional" data-display-if="(
  ((input.jsValue?.id === &quot;species&quot; || input.jsValue == null) &amp;&amp; input.scenarioSelect !== &quot;Current&quot;) ||
  (input.jsValue?.id === &quot;thermal&quot; &amp;&amp; input.scenarioSelectThermal !== &quot;Current&quot;)
)" data-ns-prefix="">
<div id="sideside_box" class="sideside_class">
<div class="form-group shiny-input-container">
<div class="checkbox">
<label>
<input id="sideSelect" type="checkbox" class="shiny-input-checkbox">
<span>Split map viewer</span>
</label>
</div>
</div>
</div>
</div>
</div>
<div id="sideDiv" class="sideDiv">
<div class="shiny-panel-conditional" data-display-if="input.sideSelect == true" data-ns-prefix="">
<div id="sidetext_box" class="sidetext_class">Current</div>
</div>
</div>
<div id="sideDivRight" class="sideDivRight">
<div class="shiny-panel-conditional" data-display-if="input.sideSelect == true" data-ns-prefix="">
<div id="sidetext_box_r" class="sidetext_class_r">Future</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-md-4 g-col-12 colordiv">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href=""><i <i class="fa-solid fa-shrimp"></i> <span>SPECIES</span></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href=""><i class="fa-solid fa-temperature-half" style="margin-left: 4px; margin-right: 1px;"></i> <span>THERMAL RANGE</span></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href=""><i class="fa-solid fa-layer-group"></i> <span>HABITAT</span></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href=""><i class="fa-solid fa-chart-simple"></i> <span>DIVERSITY</span></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false" href=""><i class="fa-solid fa-earth-europe"></i> <span>ATLAS</span></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="tabdiv">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div id="italic_div" class="itdiv_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="speciesSelect-label" for="speciesSelect">
<div style="display: flex; flex-direction: row;">
Search species
<button id="filterSpecies" type="button" class="btn btn-default action-button" style="border: 0; font-size: 12px; margin-left: 10px; background: none;"><span><i class="bi bi-funnel"></i> Filter</span></button>
<span id="filterActive" class="shiny-html-output"></span>
</div>
</label>
<div>
<select class="shiny-input-select form-control" id="speciesSelect"><option value="" selected="">Select one</option></select>
<script type="application/json" data-for="speciesSelect">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
<div class="cell-output-display">
<div id="species_title" class="rtitle_class">
<div id="selectedSpecies" class="shiny-text-output"></div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div id="context_info" class="context_info">
<div id="contextSpecies" class="shiny-html-output"></div>
</div>
</div>
</div>
<div class="bottom-container">
<div class="grid gridaltsm">
<div class="g-col-5">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div id="scenario_box" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="modelSelect-label" for="modelSelect">Model</label>
<div>
<select id="modelSelect" class="shiny-input-select"><option value="maxent" selected="">MAXENT</option>
<option value="rf">Random Forest</option>
<option value="xgboost">XGBoost</option>
<option value="ensemble">Ensemble</option></select>
<script type="application/json" data-for="modelSelect" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-4">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.speciesSelect != ''" data-ns-prefix="">
<div id="scenario_box" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="scenarioSelect-label" for="scenarioSelect">Scenario</label>
<div>
<select id="scenarioSelect" class="shiny-input-select"><option value="Current" selected="">Current</option>
<option value="ssp126">SSP1</option>
<option value="ssp245">SSP2</option>
<option value="ssp370">SSP3</option>
<option value="ssp460">SSP4</option>
<option value="ssp585">SSP5</option></select>
<script type="application/json" data-for="scenarioSelect" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-3">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.scenarioSelect != 'Current'" data-ns-prefix="">
<div id="scenario_box" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="periodSelect-label" for="periodSelect">Period</label>
<div>
<select id="periodSelect" class="shiny-input-select"><option value="2050" selected="">2050</option>
<option value="2100">2100</option></select>
<script type="application/json" data-for="periodSelect" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="context-icons">
<div class="cell">
<div class="cell-output-display">
<div class="context-icons-box">
<a id="downloadDataSpecies" href="#" class="action-button">
<span style="color: #545454 !important;">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-download " style="height:1em;width:1em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"></path>
<path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"></path></svg>
DOWNLOAD THE DATA
</span>
</a>
</div>
</div>
</div>
<div class="context-icons-box" onclick="location.href='https://github.com/iobis/mpaeu_sdm/blob/main/codes/model_fit.R';">
<i class="fa-brands fa-github" aria-label="github"></i> ACCESS THE CODE
</div>
<div class="cell">
<div class="cell-output-display">
<div class="context-icons-box">
<a id="runModelSpecies" href="#" class="action-button">
<span style="color: #545454 !important;">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-play-fill " style="height:1em;width:1em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path></svg>
RUN THE MODEL
</span>
</a>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="tabdiv">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div id="italic_div_thermal" class="itdiv_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="speciesSelectThermal-label" for="speciesSelectThermal">
<div style="display: flex; flex-direction: row;">
Search species
<button id="filterThermalSpecies" type="button" class="btn btn-default action-button" style="border: 0; font-size: 12px; margin-left: 10px; background: none;"><span><i class="bi bi-funnel"></i> Filter</span></button>
<span id="filterActiveThermal" class="shiny-html-output"></span>
</div>
</label>
<div>
<select class="shiny-input-select form-control" id="speciesSelectThermal"><option value="" selected="">Select one</option></select>
<script type="application/json" data-for="speciesSelectThermal">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
<div class="cell-output-display">
<div id="thermal_species_title" class="rtitle_class">
<div id="selectedSpeciesThermal" class="shiny-text-output"></div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div id="context_info_thermal" class="context_info">
<div id="contextSpeciesThermal" class="shiny-html-output"></div>
</div>
</div>
</div>
<div class="bottom-container">
<div class="grid gridaltsm">
<div class="g-col-6">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div id="scenario_box_thermal" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="scenarioSelectThermal-label" for="scenarioSelectThermal">Scenario</label>
<div>
<select id="scenarioSelectThermal" class="shiny-input-select"><option value="Current" selected="">Current</option>
<option value="ssp126">SSP1</option>
<option value="ssp245">SSP2</option>
<option value="ssp370">SSP3</option>
<option value="ssp460">SSP4</option>
<option value="ssp585">SSP5</option></select>
<script type="application/json" data-for="scenarioSelectThermal" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-6">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.jsValue?.id === &quot;thermal&quot; &amp;&amp; input.scenarioSelectThermal !== &quot;Current&quot;" data-ns-prefix="">
<div id="scenario_box_thermal" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="periodSelectThermal-label" for="periodSelectThermal">Period</label>
<div>
<select id="periodSelectThermal" class="shiny-input-select"><option value="2050" selected="">2050</option>
<option value="2100">2100</option></select>
<script type="application/json" data-for="periodSelectThermal" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="context-icons">
<div class="cell">
<div class="cell-output-display">
<div class="context-icons-box">
<a id="downloadDataThermal" class="shiny-download-link" href="" target="_blank" download="">
<span style="color: #545454 !important;">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-download " style="height:1em;width:1em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"></path>
<path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"></path></svg>
DOWNLOAD THE DATA
</span>
</a>
</div>
</div>
</div>
<div class="context-icons-box" onclick="location.href='https://github.com/iobis/mpaeu_sdm/blob/main/codes/model_thermal.R';">
<i class="fa-brands fa-github" aria-label="github"></i> ACCESS THE CODE
</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="tabdiv">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="habitatSelect-label" for="habitatSelect">Select habitat</label>
<div>
<select id="habitatSelect" class="shiny-input-select"><option value="" selected="">Select a habitat</option>
<option value="seagrass">Seagrass</option>
<option value="polychaete_reefs">Polychaete reefs</option>
<option value="maerl">Maerl</option>
<option value="kelp">Kelp</option>
<option value="corals">Corals</option>
<option value="bivalves_beds">Bivalves beds</option></select>
<script type="application/json" data-for="habitatSelect">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="habitatBin-label" for="habitatBin">Threshold</label>
<div>
<select id="habitatBin" class="shiny-input-select"><option value="p10" selected="">P10</option>
<option value="mss">MSS</option></select>
<script type="application/json" data-for="habitatBin" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display">
<span style="display: flex; margin-top: 2px; margin-bottom: 5px; margin-left: 5px;">
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="habitatBinaryFull" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="habitatBinaryFull">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show maps in fully binary (presence/absence) mode. Otherwise, just removes the lower limit according to the metric on the 'Binary mode' selector.</template>
<span>
Show binary
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
</span>
</div>
<div class="cell-output-display">
<div id="habitat_title" class="rtitle_class" style="font-style: normal !important;">
<div id="selectedHabitat" class="shiny-text-output"></div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div id="context_info_hab" class="context_info">
<div id="contextHabitat" class="shiny-html-output"></div>
</div>
</div>
</div>
<div class="bottom-container">
<div class="grid gridaltsm">
<div class="g-col-5">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="modelSelectHabitat-label" for="modelSelectHabitat">Post-treatment</label>
<div>
<select id="modelSelectHabitat" class="shiny-input-select"><option value="std" selected="">Standard</option>
<option value="const">Constrained</option></select>
<script type="application/json" data-for="modelSelectHabitat" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-4">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="scenarioSelectHabitat-label" for="scenarioSelectHabitat">Scenario</label>
<div>
<select id="scenarioSelectHabitat" class="shiny-input-select"><option value="Current" selected="">Current</option>
<option value="ssp126">SSP1</option>
<option value="ssp245">SSP2</option>
<option value="ssp370">SSP3</option>
<option value="ssp460">SSP4</option>
<option value="ssp585">SSP5</option></select>
<script type="application/json" data-for="scenarioSelectHabitat" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-3">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="periodSelectHabitat-label" for="periodSelectHabitat">Period</label>
<div>
<select id="periodSelectHabitat" class="shiny-input-select"><option value="2050" selected="">2050</option>
<option value="2100">2100</option></select>
<script type="application/json" data-for="periodSelectHabitat" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="context-icons">
<div class="cell">
<div class="cell-output-display">
<div class="context-icons-box">
<a id="downloadDataHabitat" class="shiny-download-link" href="" target="_blank" download="">
<span style="color: #545454 !important;">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-download " style="height:1em;width:1em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"></path>
<path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"></path></svg>
DOWNLOAD THE DATA
</span>
</a>
</div>
</div>
</div>
<div class="context-icons-box" onclick="location.href='https://github.com/iobis/mpaeu_sdm/blob/main/codes/post_habitat.R';">
<i class="fa-brands fa-github" aria-label="github"></i> ACCESS THE CODE
</div>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="tabdiv">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="diversitySelect-label" for="diversitySelect">Select metric</label>
<div>
<select id="diversitySelect" class="shiny-input-select"><option value="" selected="">Select a metric</option>
<option value="richness">Richness</option>
<option value="lcbd">LCBD</option></select>
<script type="application/json" data-for="diversitySelect">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="diversityGroup-label" for="diversityGroup">Select level</label>
<div>
<select id="diversityGroup" class="shiny-input-select"><option value="" selected="">Select one</option></select>
<script type="application/json" data-for="diversityGroup">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display">
<div id="diversity_title" class="rtitle_class" style="font-style: normal !important;">
<div id="selectedMetric" class="shiny-text-output"></div>
</div>
</div>
<div class="cell-output-display">
<div id="context_info_div" class="context_info">
<div id="contextMetric" class="shiny-text-output"></div>
<br>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.diversitySelect == 'richness' &amp;&amp; input.diversityMode != 'raw'" data-ns-prefix="">
<div id="scenario_box_diversity" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="diversityType-label" for="diversityType">Threshold</label>
<div>
<select id="diversityType" class="shiny-input-select"><option value="p10" selected="">P10</option>
<option value="mss">Sens+Spec</option></select>
<script type="application/json" data-for="diversityType" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.diversitySelect == 'richness' &amp;&amp; input.diversityMode != 'raw'" data-ns-prefix="">
<div id="scenario_box_diversity2" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="diversityPostTreat-label" for="diversityPostTreat">Post-treatment</label>
<div>
<select id="diversityPostTreat" class="shiny-input-select"><option value="std" selected="">Standard</option>
<option value="const">Constrained</option></select>
<script type="application/json" data-for="diversityPostTreat" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="bottom-container">
<div class="grid gridaltsm">
<div class="g-col-5">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.diversitySelect == 'richness'" data-ns-prefix="">
<div id="scenario_box_diversity" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="diversityMode-label" for="diversityMode">Mode</label>
<div>
<select id="diversityMode" class="shiny-input-select"><option value="raw" selected="">Raw</option>
<option value="binary">Binary</option>
<option value="continuous">Continuous</option>
<option value="sesam">SESAM</option></select>
<script type="application/json" data-for="diversityMode" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-4">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="(
(input.diversitySelect == 'richness' &amp;&amp; input.diversityMode != 'raw') ||
(input.diversitySelect != 'richness')
)" data-ns-prefix="">
<div id="scenario_box_diversity" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="scenarioSelectDiversity-label" for="scenarioSelectDiversity">Scenario</label>
<div>
<select id="scenarioSelectDiversity" class="shiny-input-select"><option value="Current" selected="">Current</option>
<option value="ssp126">SSP1</option>
<option value="ssp245">SSP2</option>
<option value="ssp370">SSP3</option>
<option value="ssp460">SSP4</option>
<option value="ssp585">SSP5</option></select>
<script type="application/json" data-for="scenarioSelectDiversity" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="g-col-3">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="(
(input.diversitySelect == 'richness' &amp;&amp; input.diversityMode != 'raw') ||
(input.diversitySelect != 'richness')
)" data-ns-prefix="">
<div id="scenario_box_diversity" class="scenario_class">
<div class="form-group shiny-input-container">
<label class="control-label" id="periodSelectDiversity-label" for="periodSelectDiversity">Period</label>
<div>
<select id="periodSelectDiversity" class="shiny-input-select"><option value="2050" selected="">2050</option>
<option value="2100">2100</option></select>
<script type="application/json" data-for="periodSelectDiversity" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="context-icons">
<div class="cell">
<div class="cell-output-display">
<div class="context-icons-box">
<a id="downloadDataDiversity" class="shiny-download-link" href="" target="_blank" download="">
<span style="color: #545454 !important;">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-download " style="height:1em;width:1em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"></path>
<path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"></path></svg>
DOWNLOAD THE DATA
</span>
</a>
</div>
</div>
</div>
<div class="context-icons-box" onclick="location.href='https://github.com/iobis/mpaeu_sdm/blob/main/codes/post_div_richness.R';">
<i class="fa-brands fa-github" aria-label="github"></i> ACCESS THE CODE
</div>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="tabdiv">
<p>The atlas section is still under development.</p>
<div class="cell">
<div class="cell-output-display">
<style type="text/css">.custom-tree-input {
  font-family: Arial, sans-serif;
  font-size: 14px;
}

.tree-node {
  margin-bottom: 15px;
}

.tree-node:last-child {
  margin-bottom: 0;
}

.node-label {
  font-weight: bold;
  padding: 8px 8px 8px 30px;
  background-color: #f5f5f5;
  border-radius: 4px;
  margin-bottom: 8px;
  cursor: pointer;
  user-select: none;
  transition: background-color 0.2s;
  position: relative;
}

.node-label:before {
  content: '';
  position: absolute;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  border: 2px solid #999;
  border-radius: 3px;
  background-color: #fff;
  transition: all 0.2s;
}

.node-label.has-selection:before {
  background-color: #2196F3;
  border-color: #2196F3;
}

.node-label.expanded.has-selection:after {
  content: '\F633';
  font-family: 'bootstrap-icons';
  /* font-family: FontAwesome; */
  position: absolute;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  color: white;
  font-size: 14px;
  font-weight: bold;
  transition: none;
}

/* .node-label.has-selection-icon:after {
  content: '\F633';
  font-family: 'bootstrap-icons';
  position: absolute;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  color: white;
  font-size: 14px;
  font-weight: bold;
  transition: none;
} */

.node-label:after {
  content: '\25B6';
  font-family: Arial, sans-serif;
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  color: #555;
  font-weight: normal;
  transition: transform 0.2s;
}

.node-label.expanded:after {
  transform: translateY(-50%) rotate(90deg);
}

.node-label:hover {
  background-color: #e8e8e8;
}

.node-label.has-selection {
  background-color: #e3f2fd;
}

.node-label.has-selection:hover {
  background-color: #bbdefb;
}

.node-children {
  padding-left: 20px;
  margin-top: 5px;
}

.node-children.collapsed {
  display: none;
}

.tree-child {
  padding: 5px 0;
}

.tree-child input[type='checkbox'] {
  margin-right: 8px;
  cursor: pointer;
  width: 16px;
  height: 16px;
}

.tree-child label {
  cursor: pointer;
  margin: 0;
}</style>
</div>
<div class="cell-output-display">
<script>$(document).ready(function() {
  // Use event delegation for dynamically created elements
  $(document).on('shiny:connected', function() {
    initializeTreeInputs();
  });
  
  function initializeTreeInputs() {
    $('.custom-tree-input').each(function() {
      var $container = $(this);
      var inputId = $container.attr('id');
      
      // Skip if already initialized
      if ($container.data('initialized')) {
        return;
      }
      $container.data('initialized', true);
      
      // Initialize state
      function updateState() {
        var state = {};
        $container.find('.tree-node').each(function() {
          var parent = $(this).find('.node-label').data('parent');
          var checked = $(this).find('input[type="checkbox"]:checked');
          // In the original code, it only sets the value if there's a selection. 
          // If you intended to collect all checked items, you'd use a different logic.
          // Keeping the original logic for state reporting.
          if (checked.length > 0) {
            // Since only one is allowed to be checked, .val() gets the value of the first checked element
            state[parent] = checked.val(); 
          } else {
            state[parent] = null;
          }
        });
        Shiny.setInputValue(inputId, state);
      }
      
      // Update visual state of parent labels
      function updateParentLabels() {
        $container.find('.tree-node').each(function() {
          var nodeLabel = $(this).find('.node-label');
          var hasSelection = $(this).find('input[type="checkbox"]:checked').length > 0;
          if (hasSelection) {
            nodeLabel.addClass('has-selection');
          } else {
            nodeLabel.removeClass('has-selection');
          }
        });
      }
      
      // Handle checkbox changes - enforce only one checked per parent
      $container.find('input[type="checkbox"]').on('change', function() {
        if ($(this).is(':checked')) {
          // Uncheck all other checkboxes in the same parent
          var parentGroup = $(this).attr('name');
          $container.find('input[name="' + parentGroup + '"]').not(this).prop('checked', false);
        }
        updateParentLabels();
        updateState();
      });
      
      // Handle parent label clicks (to deselect AND toggle collapse)
      $container.find('.node-label').on('click', function() {
        var $label = $(this);
        var $treeNode = $label.closest('.tree-node');
        
        // --- NEW COLLAPSE/EXPAND LOGIC ---
        var $children = $treeNode.find('.node-children');
        
        // Toggle the visibility of the children and the indicator icon class
        $children.toggleClass('collapsed');
        $label.toggleClass('expanded');
        // ---------------------------------

        var checked = $treeNode.find('input[type="checkbox"]:checked');
        
        // Only deselect if there's a selection
        if (checked.length > 0) {
          checked.prop('checked', false);
          updateParentLabels();
          updateState();
        }
      });

      // Since we added 'collapsed' to node-children in R, we need to ensure 
      // the corresponding 'expanded' class is NOT on the label initially.
      // It is not added by default, so no extra initialization is strictly needed.
      
      // Initialize
      updateParentLabels();
      updateState();
    });
  }
});</script>
</div>
<div class="cell-output-display">
<style type="text/css">.layer-style-input {
  font-family: Arial, sans-serif;
  font-size: 14px;
}

.style-container {
  /* border: 1px solid #ddd;
  border-radius: 4px;
  padding: 15px;
  background-color: #fff; */
  margin-bottom: 10px;
}

.layer-style-item {
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid #eee;
}

.layer-style-item:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.layer-name {
  font-weight: bold;
  font-size: 15px;
  margin-bottom: 12px;
  color: #333;
}

.style-control {
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.style-control:last-child {
  margin-bottom: 0;
}

.control-label-small {
  font-weight: 500;
  min-width: 70px;
  margin: 0;
  color: #666;
}

.alpha-slider {
  flex: 1;
  height: 6px;
  cursor: pointer;
}

.alpha-value {
  min-width: 40px;
  text-align: right;
  font-family: monospace;
  color: #666;
}

.palette-selector {
  flex: 1;
  padding: 6px 10px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
}

.palette-preview {
  width: 120px;
  height: 25px;
  border: 1px solid #ccc;
  border-radius: 4px;
  display: flex;
  overflow: hidden;
}

.palette-preview-color {
  flex: 1;
  height: 100%;
}

.apply-button-container {
  text-align: right;
}

.apply-style-btn {
  padding: 8px 20px;
  font-size: 14px;
  font-weight: 500;
}</style>
</div>
<div class="cell-output-display">
<script>$(document).ready(function() {
  $(document).on('shiny:connected', function() {
    initializeLayerStyleInputs();
  });
  
  function initializeLayerStyleInputs() {
    $('.layer-style-input').each(function() {
      var $container = $(this);
      var inputId = $container.attr('id');
      
      // Skip if already initialized
      if ($container.data('initialized')) {
        return;
      }
      $container.data('initialized', true);
      
      // Initialize palette previews
      function updatePalettePreview($select) {
        var $option = $select.find('option:selected');
        var colors = $option.data('colors');
        var layer = $select.data('layer');
        var $preview = $container.find('.palette-preview[data-layer="' + layer + '"]');
        
        if (colors) {
          var colorArray = colors.split(',');
          $preview.empty();
          colorArray.forEach(function(color) {
            $preview.append(
              $('<div class="palette-preview-color"></div>').css('background-color', color)
            );
          });
        }
      }
      
      // Initialize all palette previews
      $container.find('.palette-selector').each(function() {
        updatePalettePreview($(this));
      });
      
      // Update preview when palette changes
      $container.find('.palette-selector').on('change', function() {
        updatePalettePreview($(this));
      });
      
      // Update alpha value display when slider changes
      $container.find('.alpha-slider').on('input', function() {
        var $slider = $(this);
        var value = parseFloat($slider.val());
        $slider.siblings('.alpha-value').text(value.toFixed(2));
      });
      
      // Handle apply button click
      $container.find('.apply-style-btn').on('click', function() {
        var styles = {};
        
        $container.find('.layer-style-item').each(function() {
          var layer = $(this).data('layer');
          var alpha = parseFloat($(this).find('.alpha-slider').val());
          var palette = $(this).find('.palette-selector').val();
          
          styles[layer] = {
            alpha: alpha,
            palette: palette
          };
        });
        
        // Send to Shiny
        Shiny.setInputValue(inputId, styles, {priority: 'event'});
      });
    });
  }
});</script>
</div>
</div>
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div id="atlasTabs">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation">
<a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Layers</a>
</li>
<li class="nav-item" role="presentation">
<a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="" tabindex="-1">Styling</a>
</li>
</ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div id="atlasSelectorDiv">
<div class="custom-tree-input" id="atlasSelector">
<label class="control-label">Select Options (only one per group):</label>
<div class="tree-container">
<div class="tree-node">
<div class="node-label" data-parent="Habitat">Habitat</div>
<div class="node-children collapsed">
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Habitat" class="tree-checkbox" id="atlasSelector_Habitat_child_1" value="Bivalves beds" data-parent="Habitat">
<label for="atlasSelector_Habitat_child_1">Bivalves beds</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Habitat" class="tree-checkbox" id="atlasSelector_Habitat_child_2" value="Corals" data-parent="Habitat">
<label for="atlasSelector_Habitat_child_2">Corals</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Habitat" class="tree-checkbox" id="atlasSelector_Habitat_child_3" value="Kelp" data-parent="Habitat">
<label for="atlasSelector_Habitat_child_3">Kelp</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Habitat" class="tree-checkbox" id="atlasSelector_Habitat_child_4" value="Maerl" data-parent="Habitat">
<label for="atlasSelector_Habitat_child_4">Maerl</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Habitat" class="tree-checkbox" id="atlasSelector_Habitat_child_5" value="Polychaete reefs" data-parent="Habitat">
<label for="atlasSelector_Habitat_child_5">Polychaete reefs</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Habitat" class="tree-checkbox" id="atlasSelector_Habitat_child_6" value="Seagrass" data-parent="Habitat">
<label for="atlasSelector_Habitat_child_6">Seagrass</label>
</div>
</div>
</div>
<div class="tree-node">
<div class="node-label" data-parent="Diversity">Diversity</div>
<div class="node-children collapsed">
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_1" value="LCBD - All" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_1">LCBD - All</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_2" value="LCBD - Annelida" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_2">LCBD - Annelida</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_3" value="LCBD - Arthropoda" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_3">LCBD - Arthropoda</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_4" value="LCBD - Aves" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_4">LCBD - Aves</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_5" value="LCBD - Chordata" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_5">LCBD - Chordata</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_6" value="LCBD - Chromista" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_6">LCBD - Chromista</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_7" value="LCBD - Cnidaria" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_7">LCBD - Cnidaria</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_8" value="LCBD - Echinodermata" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_8">LCBD - Echinodermata</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_9" value="LCBD - Fishes" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_9">LCBD - Fishes</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_10" value="LCBD - Mammalia" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_10">LCBD - Mammalia</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_11" value="LCBD - Mollusca" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_11">LCBD - Mollusca</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_12" value="LCBD - Myxini-Petromyzonti" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_12">LCBD - Myxini-Petromyzonti</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_13" value="LCBD - Nematoda" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_13">LCBD - Nematoda</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_14" value="LCBD - Others" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_14">LCBD - Others</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_15" value="LCBD - Plantae" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_15">LCBD - Plantae</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_16" value="Richness - All" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_16">Richness - All</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_17" value="Richness - Annelida" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_17">Richness - Annelida</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_18" value="Richness - Arthropoda" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_18">Richness - Arthropoda</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_19" value="Richness - Aves" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_19">Richness - Aves</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_20" value="Richness - Chordata" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_20">Richness - Chordata</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_21" value="Richness - Chromista" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_21">Richness - Chromista</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_22" value="Richness - Cnidaria" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_22">Richness - Cnidaria</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_23" value="Richness - Echinodermata" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_23">Richness - Echinodermata</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_24" value="Richness - Fishes" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_24">Richness - Fishes</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_25" value="Richness - Mammalia" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_25">Richness - Mammalia</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_26" value="Richness - Mollusca" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_26">Richness - Mollusca</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_27" value="Richness - Myxini-Petromyzonti" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_27">Richness - Myxini-Petromyzonti</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_28" value="Richness - Nematoda" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_28">Richness - Nematoda</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_29" value="Richness - Others" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_29">Richness - Others</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Diversity" class="tree-checkbox" id="atlasSelector_Diversity_child_30" value="Richness - Plantae" data-parent="Diversity">
<label for="atlasSelector_Diversity_child_30">Richness - Plantae</label>
</div>
</div>
</div>
<div class="tree-node">
<div class="node-label" data-parent="Blue Carbon">Blue Carbon</div>
<div class="node-children collapsed">
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Blue_Carbon" class="tree-checkbox" id="atlasSelector_Blue_Carbon_child_1" value="EURO-CARBON points" data-parent="Blue Carbon">
<label for="atlasSelector_Blue_Carbon_child_1">EURO-CARBON points</label>
</div>
</div>
</div>
<div class="tree-node">
<div class="node-label" data-parent="MSP">MSP</div>
<div class="node-children collapsed">
<div class="tree-child">
<input type="checkbox" name="atlasSelector_MSP" class="tree-checkbox" id="atlasSelector_MSP_child_1" value="Marine regions" data-parent="MSP">
<label for="atlasSelector_MSP_child_1">Marine regions</label>
</div>
</div>
</div>
<div class="tree-node">
<div class="node-label" data-parent="Physical">Physical</div>
<div class="node-children collapsed">
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_1" value="Bathymetry" data-parent="Physical">
<label for="atlasSelector_Physical_child_1">Bathymetry</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_2" value="Rugosity" data-parent="Physical">
<label for="atlasSelector_Physical_child_2">Rugosity</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_3" value="Seafloor geomorphic features" data-parent="Physical">
<label for="atlasSelector_Physical_child_3">Seafloor geomorphic features</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_4" value="Seabed slope" data-parent="Physical">
<label for="atlasSelector_Physical_child_4">Seabed slope</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_5" value="Wave fetch" data-parent="Physical">
<label for="atlasSelector_Physical_child_5">Wave fetch</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_6" value="Current speed" data-parent="Physical">
<label for="atlasSelector_Physical_child_6">Current speed</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_7" value="EUSEAMAP (2023) habitats" data-parent="Physical">
<label for="atlasSelector_Physical_child_7">EUSEAMAP (2023) habitats</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_8" value="River runoff" data-parent="Physical">
<label for="atlasSelector_Physical_child_8">River runoff</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Physical" class="tree-checkbox" id="atlasSelector_Physical_child_9" value="Distance to coast" data-parent="Physical">
<label for="atlasSelector_Physical_child_9">Distance to coast</label>
</div>
</div>
</div>
<div class="tree-node">
<div class="node-label" data-parent="Temperature/Chemical">Temperature/Chemical</div>
<div class="node-children collapsed">
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_1" value="Sea surface temperature" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_1">Sea surface temperature</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_2" value="Sea bottom temperature" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_2">Sea bottom temperature</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_3" value="Air temperature" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_3">Air temperature</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_4" value="Salinity" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_4">Salinity</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_5" value="pH" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_5">pH</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_6" value="Oxygen concentration" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_6">Oxygen concentration</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_7" value="Sea ice cover" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_7">Sea ice cover</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_8" value="Phytoplankton concentration" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_8">Phytoplankton concentration</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_9" value="Mixed layer depth" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_9">Mixed layer depth</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_10" value="Nitrate concentration" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_10">Nitrate concentration</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_11" value="Phosphate concentration" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_11">Phosphate concentration</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_12" value="Diffuse attenuation coefficient" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_12">Diffuse attenuation coefficient</label>
</div>
<div class="tree-child">
<input type="checkbox" name="atlasSelector_Temperature_Chemical" class="tree-checkbox" id="atlasSelector_Temperature_Chemical_child_13" value="Photosynthetically active radiation" data-parent="Temperature/Chemical">
<label for="atlasSelector_Temperature_Chemical_child_13">Photosynthetically active radiation</label>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div id="atlasLayerSelectorDiv">
<div class="layer-style-input" id="atlasLayerStyle">
<label class="control-label">Configure Layer Styles (click on 'Apply styles' to apply changes):</label>
<div class="style-container">
<div class="layer-style-item" data-layer="Habitat">
<div class="layer-name">Habitat</div>
<div class="style-control">
<label class="control-label-small">Opacity:</label>
<input type="range" class="alpha-slider" min="0.5" max="1" step="0.05" value="0.8" data-layer="Habitat">
<span class="alpha-value">0.80</span>
</div>
<div class="style-control">
<label class="control-label-small">Palette:</label>
<select class="palette-selector" data-layer="Habitat">
<option value="BrBG" data-colors="#8C510A,#BF812D,#DFC27D,#F6E8C3,#F5F5F5,#C7EAE5,#80CDC1,#35978F,#01665E">BrBG</option>
<option value="PiYG" data-colors="#C51B7D,#DE77AE,#F1B6DA,#FDE0EF,#F7F7F7,#E6F5D0,#B8E186,#7FBC41,#4D9221">PiYG</option>
<option value="PRGn" data-colors="#762A83,#9970AB,#C2A5CF,#E7D4E8,#F7F7F7,#D9F0D3,#A6DBA0,#5AAE61,#1B7837">PRGn</option>
<option value="PuOr" data-colors="#B35806,#E08214,#FDB863,#FEE0B6,#F7F7F7,#D8DAEB,#B2ABD2,#8073AC,#542788">PuOr</option>
<option value="RdBu" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#F7F7F7,#D1E5F0,#92C5DE,#4393C3,#2166AC">RdBu</option>
<option value="RdGy" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#FFFFFF,#E0E0E0,#BABABA,#878787,#4D4D4D">RdGy</option>
<option value="RdYlBu" data-colors="#D73027,#F46D43,#FDAE61,#FEE090,#FFFFBF,#E0F3F8,#ABD9E9,#74ADD1,#4575B4">RdYlBu</option>
<option value="RdYlGn" data-colors="#D73027,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#D9EF8B,#A6D96A,#66BD63,#1A9850">RdYlGn</option>
<option value="Spectral" data-colors="#D53E4F,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#E6F598,#ABDDA4,#66C2A5,#3288BD">Spectral</option>
<option value="Accent" data-colors="#7FC97F,#BEAED4,#FDC086,#FFFF99,#386CB0,#F0027F,#BF5B17,#666666">Accent</option>
<option value="Dark2" data-colors="#1B9E77,#D95F02,#7570B3,#E7298A,#66A61E,#E6AB02,#A6761D,#666666">Dark2</option>
<option value="Paired" data-colors="#A6CEE3,#1F78B4,#B2DF8A,#33A02C,#FB9A99,#E31A1C,#FDBF6F,#FF7F00,#CAB2D6">Paired</option>
<option value="Pastel1" data-colors="#FBB4AE,#B3CDE3,#CCEBC5,#DECBE4,#FED9A6,#FFFFCC,#E5D8BD,#FDDAEC,#F2F2F2">Pastel1</option>
<option value="Pastel2" data-colors="#B3E2CD,#FDCDAC,#CBD5E8,#F4CAE4,#E6F5C9,#FFF2AE,#F1E2CC,#CCCCCC">Pastel2</option>
<option value="Set1" data-colors="#E41A1C,#377EB8,#4DAF4A,#984EA3,#FF7F00,#FFFF33,#A65628,#F781BF,#999999">Set1</option>
<option value="Set2" data-colors="#66C2A5,#FC8D62,#8DA0CB,#E78AC3,#A6D854,#FFD92F,#E5C494,#B3B3B3">Set2</option>
<option value="Set3" data-colors="#8DD3C7,#FFFFB3,#BEBADA,#FB8072,#80B1D3,#FDB462,#B3DE69,#FCCDE5,#D9D9D9">Set3</option>
<option value="Blues" selected="" data-colors="#F7FBFF,#DEEBF7,#C6DBEF,#9ECAE1,#6BAED6,#4292C6,#2171B5,#08519C,#08306B">Blues</option>
<option value="BuGn" data-colors="#F7FCFD,#E5F5F9,#CCECE6,#99D8C9,#66C2A4,#41AE76,#238B45,#006D2C,#00441B">BuGn</option>
<option value="BuPu" data-colors="#F7FCFD,#E0ECF4,#BFD3E6,#9EBCDA,#8C96C6,#8C6BB1,#88419D,#810F7C,#4D004B">BuPu</option>
<option value="GnBu" data-colors="#F7FCF0,#E0F3DB,#CCEBC5,#A8DDB5,#7BCCC4,#4EB3D3,#2B8CBE,#0868AC,#084081">GnBu</option>
<option value="Greens" data-colors="#F7FCF5,#E5F5E0,#C7E9C0,#A1D99B,#74C476,#41AB5D,#238B45,#006D2C,#00441B">Greens</option>
<option value="Greys" data-colors="#FFFFFF,#F0F0F0,#D9D9D9,#BDBDBD,#969696,#737373,#525252,#252525,#000000">Greys</option>
<option value="Oranges" data-colors="#FFF5EB,#FEE6CE,#FDD0A2,#FDAE6B,#FD8D3C,#F16913,#D94801,#A63603,#7F2704">Oranges</option>
<option value="OrRd" data-colors="#FFF7EC,#FEE8C8,#FDD49E,#FDBB84,#FC8D59,#EF6548,#D7301F,#B30000,#7F0000">OrRd</option>
<option value="PuBu" data-colors="#FFF7FB,#ECE7F2,#D0D1E6,#A6BDDB,#74A9CF,#3690C0,#0570B0,#045A8D,#023858">PuBu</option>
<option value="PuBuGn" data-colors="#FFF7FB,#ECE2F0,#D0D1E6,#A6BDDB,#67A9CF,#3690C0,#02818A,#016C59,#014636">PuBuGn</option>
<option value="PuRd" data-colors="#F7F4F9,#E7E1EF,#D4B9DA,#C994C7,#DF65B0,#E7298A,#CE1256,#980043,#67001F">PuRd</option>
<option value="Purples" data-colors="#FCFBFD,#EFEDF5,#DADAEB,#BCBDDC,#9E9AC8,#807DBA,#6A51A3,#54278F,#3F007D">Purples</option>
<option value="RdPu" data-colors="#FFF7F3,#FDE0DD,#FCC5C0,#FA9FB5,#F768A1,#DD3497,#AE017E,#7A0177,#49006A">RdPu</option>
<option value="Reds" data-colors="#FFF5F0,#FEE0D2,#FCBBA1,#FC9272,#FB6A4A,#EF3B2C,#CB181D,#A50F15,#67000D">Reds</option>
<option value="YlGn" data-colors="#FFFFE5,#F7FCB9,#D9F0A3,#ADDD8E,#78C679,#41AB5D,#238443,#006837,#004529">YlGn</option>
<option value="YlGnBu" data-colors="#FFFFD9,#EDF8B1,#C7E9B4,#7FCDBB,#41B6C4,#1D91C0,#225EA8,#253494,#081D58">YlGnBu</option>
<option value="YlOrBr" data-colors="#FFFFE5,#FFF7BC,#FEE391,#FEC44F,#FE9929,#EC7014,#CC4C02,#993404,#662506">YlOrBr</option>
<option value="YlOrRd" data-colors="#FFFFCC,#FFEDA0,#FED976,#FEB24C,#FD8D3C,#FC4E2A,#E31A1C,#BD0026,#800026">YlOrRd</option>
</select>
<div class="palette-preview" data-layer="Habitat"></div>
</div>
</div>
<div class="layer-style-item" data-layer="Diversity">
<div class="layer-name">Diversity</div>
<div class="style-control">
<label class="control-label-small">Opacity:</label>
<input type="range" class="alpha-slider" min="0.5" max="1" step="0.05" value="0.8" data-layer="Diversity">
<span class="alpha-value">0.80</span>
</div>
<div class="style-control">
<label class="control-label-small">Palette:</label>
<select class="palette-selector" data-layer="Diversity">
<option value="BrBG" data-colors="#8C510A,#BF812D,#DFC27D,#F6E8C3,#F5F5F5,#C7EAE5,#80CDC1,#35978F,#01665E">BrBG</option>
<option value="PiYG" data-colors="#C51B7D,#DE77AE,#F1B6DA,#FDE0EF,#F7F7F7,#E6F5D0,#B8E186,#7FBC41,#4D9221">PiYG</option>
<option value="PRGn" data-colors="#762A83,#9970AB,#C2A5CF,#E7D4E8,#F7F7F7,#D9F0D3,#A6DBA0,#5AAE61,#1B7837">PRGn</option>
<option value="PuOr" data-colors="#B35806,#E08214,#FDB863,#FEE0B6,#F7F7F7,#D8DAEB,#B2ABD2,#8073AC,#542788">PuOr</option>
<option value="RdBu" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#F7F7F7,#D1E5F0,#92C5DE,#4393C3,#2166AC">RdBu</option>
<option value="RdGy" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#FFFFFF,#E0E0E0,#BABABA,#878787,#4D4D4D">RdGy</option>
<option value="RdYlBu" data-colors="#D73027,#F46D43,#FDAE61,#FEE090,#FFFFBF,#E0F3F8,#ABD9E9,#74ADD1,#4575B4">RdYlBu</option>
<option value="RdYlGn" data-colors="#D73027,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#D9EF8B,#A6D96A,#66BD63,#1A9850">RdYlGn</option>
<option value="Spectral" data-colors="#D53E4F,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#E6F598,#ABDDA4,#66C2A5,#3288BD">Spectral</option>
<option value="Accent" data-colors="#7FC97F,#BEAED4,#FDC086,#FFFF99,#386CB0,#F0027F,#BF5B17,#666666">Accent</option>
<option value="Dark2" data-colors="#1B9E77,#D95F02,#7570B3,#E7298A,#66A61E,#E6AB02,#A6761D,#666666">Dark2</option>
<option value="Paired" data-colors="#A6CEE3,#1F78B4,#B2DF8A,#33A02C,#FB9A99,#E31A1C,#FDBF6F,#FF7F00,#CAB2D6">Paired</option>
<option value="Pastel1" data-colors="#FBB4AE,#B3CDE3,#CCEBC5,#DECBE4,#FED9A6,#FFFFCC,#E5D8BD,#FDDAEC,#F2F2F2">Pastel1</option>
<option value="Pastel2" data-colors="#B3E2CD,#FDCDAC,#CBD5E8,#F4CAE4,#E6F5C9,#FFF2AE,#F1E2CC,#CCCCCC">Pastel2</option>
<option value="Set1" data-colors="#E41A1C,#377EB8,#4DAF4A,#984EA3,#FF7F00,#FFFF33,#A65628,#F781BF,#999999">Set1</option>
<option value="Set2" data-colors="#66C2A5,#FC8D62,#8DA0CB,#E78AC3,#A6D854,#FFD92F,#E5C494,#B3B3B3">Set2</option>
<option value="Set3" data-colors="#8DD3C7,#FFFFB3,#BEBADA,#FB8072,#80B1D3,#FDB462,#B3DE69,#FCCDE5,#D9D9D9">Set3</option>
<option value="Blues" selected="" data-colors="#F7FBFF,#DEEBF7,#C6DBEF,#9ECAE1,#6BAED6,#4292C6,#2171B5,#08519C,#08306B">Blues</option>
<option value="BuGn" data-colors="#F7FCFD,#E5F5F9,#CCECE6,#99D8C9,#66C2A4,#41AE76,#238B45,#006D2C,#00441B">BuGn</option>
<option value="BuPu" data-colors="#F7FCFD,#E0ECF4,#BFD3E6,#9EBCDA,#8C96C6,#8C6BB1,#88419D,#810F7C,#4D004B">BuPu</option>
<option value="GnBu" data-colors="#F7FCF0,#E0F3DB,#CCEBC5,#A8DDB5,#7BCCC4,#4EB3D3,#2B8CBE,#0868AC,#084081">GnBu</option>
<option value="Greens" data-colors="#F7FCF5,#E5F5E0,#C7E9C0,#A1D99B,#74C476,#41AB5D,#238B45,#006D2C,#00441B">Greens</option>
<option value="Greys" data-colors="#FFFFFF,#F0F0F0,#D9D9D9,#BDBDBD,#969696,#737373,#525252,#252525,#000000">Greys</option>
<option value="Oranges" data-colors="#FFF5EB,#FEE6CE,#FDD0A2,#FDAE6B,#FD8D3C,#F16913,#D94801,#A63603,#7F2704">Oranges</option>
<option value="OrRd" data-colors="#FFF7EC,#FEE8C8,#FDD49E,#FDBB84,#FC8D59,#EF6548,#D7301F,#B30000,#7F0000">OrRd</option>
<option value="PuBu" data-colors="#FFF7FB,#ECE7F2,#D0D1E6,#A6BDDB,#74A9CF,#3690C0,#0570B0,#045A8D,#023858">PuBu</option>
<option value="PuBuGn" data-colors="#FFF7FB,#ECE2F0,#D0D1E6,#A6BDDB,#67A9CF,#3690C0,#02818A,#016C59,#014636">PuBuGn</option>
<option value="PuRd" data-colors="#F7F4F9,#E7E1EF,#D4B9DA,#C994C7,#DF65B0,#E7298A,#CE1256,#980043,#67001F">PuRd</option>
<option value="Purples" data-colors="#FCFBFD,#EFEDF5,#DADAEB,#BCBDDC,#9E9AC8,#807DBA,#6A51A3,#54278F,#3F007D">Purples</option>
<option value="RdPu" data-colors="#FFF7F3,#FDE0DD,#FCC5C0,#FA9FB5,#F768A1,#DD3497,#AE017E,#7A0177,#49006A">RdPu</option>
<option value="Reds" data-colors="#FFF5F0,#FEE0D2,#FCBBA1,#FC9272,#FB6A4A,#EF3B2C,#CB181D,#A50F15,#67000D">Reds</option>
<option value="YlGn" data-colors="#FFFFE5,#F7FCB9,#D9F0A3,#ADDD8E,#78C679,#41AB5D,#238443,#006837,#004529">YlGn</option>
<option value="YlGnBu" data-colors="#FFFFD9,#EDF8B1,#C7E9B4,#7FCDBB,#41B6C4,#1D91C0,#225EA8,#253494,#081D58">YlGnBu</option>
<option value="YlOrBr" data-colors="#FFFFE5,#FFF7BC,#FEE391,#FEC44F,#FE9929,#EC7014,#CC4C02,#993404,#662506">YlOrBr</option>
<option value="YlOrRd" data-colors="#FFFFCC,#FFEDA0,#FED976,#FEB24C,#FD8D3C,#FC4E2A,#E31A1C,#BD0026,#800026">YlOrRd</option>
</select>
<div class="palette-preview" data-layer="Diversity"></div>
</div>
</div>
<div class="layer-style-item" data-layer="Blue Carbon">
<div class="layer-name">Blue Carbon</div>
<div class="style-control">
<label class="control-label-small">Opacity:</label>
<input type="range" class="alpha-slider" min="0.5" max="1" step="0.05" value="0.8" data-layer="Blue Carbon">
<span class="alpha-value">0.80</span>
</div>
<div class="style-control">
<label class="control-label-small">Palette:</label>
<select class="palette-selector" data-layer="Blue Carbon">
<option value="BrBG" data-colors="#8C510A,#BF812D,#DFC27D,#F6E8C3,#F5F5F5,#C7EAE5,#80CDC1,#35978F,#01665E">BrBG</option>
<option value="PiYG" data-colors="#C51B7D,#DE77AE,#F1B6DA,#FDE0EF,#F7F7F7,#E6F5D0,#B8E186,#7FBC41,#4D9221">PiYG</option>
<option value="PRGn" data-colors="#762A83,#9970AB,#C2A5CF,#E7D4E8,#F7F7F7,#D9F0D3,#A6DBA0,#5AAE61,#1B7837">PRGn</option>
<option value="PuOr" data-colors="#B35806,#E08214,#FDB863,#FEE0B6,#F7F7F7,#D8DAEB,#B2ABD2,#8073AC,#542788">PuOr</option>
<option value="RdBu" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#F7F7F7,#D1E5F0,#92C5DE,#4393C3,#2166AC">RdBu</option>
<option value="RdGy" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#FFFFFF,#E0E0E0,#BABABA,#878787,#4D4D4D">RdGy</option>
<option value="RdYlBu" data-colors="#D73027,#F46D43,#FDAE61,#FEE090,#FFFFBF,#E0F3F8,#ABD9E9,#74ADD1,#4575B4">RdYlBu</option>
<option value="RdYlGn" data-colors="#D73027,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#D9EF8B,#A6D96A,#66BD63,#1A9850">RdYlGn</option>
<option value="Spectral" data-colors="#D53E4F,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#E6F598,#ABDDA4,#66C2A5,#3288BD">Spectral</option>
<option value="Accent" data-colors="#7FC97F,#BEAED4,#FDC086,#FFFF99,#386CB0,#F0027F,#BF5B17,#666666">Accent</option>
<option value="Dark2" data-colors="#1B9E77,#D95F02,#7570B3,#E7298A,#66A61E,#E6AB02,#A6761D,#666666">Dark2</option>
<option value="Paired" data-colors="#A6CEE3,#1F78B4,#B2DF8A,#33A02C,#FB9A99,#E31A1C,#FDBF6F,#FF7F00,#CAB2D6">Paired</option>
<option value="Pastel1" data-colors="#FBB4AE,#B3CDE3,#CCEBC5,#DECBE4,#FED9A6,#FFFFCC,#E5D8BD,#FDDAEC,#F2F2F2">Pastel1</option>
<option value="Pastel2" data-colors="#B3E2CD,#FDCDAC,#CBD5E8,#F4CAE4,#E6F5C9,#FFF2AE,#F1E2CC,#CCCCCC">Pastel2</option>
<option value="Set1" data-colors="#E41A1C,#377EB8,#4DAF4A,#984EA3,#FF7F00,#FFFF33,#A65628,#F781BF,#999999">Set1</option>
<option value="Set2" data-colors="#66C2A5,#FC8D62,#8DA0CB,#E78AC3,#A6D854,#FFD92F,#E5C494,#B3B3B3">Set2</option>
<option value="Set3" data-colors="#8DD3C7,#FFFFB3,#BEBADA,#FB8072,#80B1D3,#FDB462,#B3DE69,#FCCDE5,#D9D9D9">Set3</option>
<option value="Blues" selected="" data-colors="#F7FBFF,#DEEBF7,#C6DBEF,#9ECAE1,#6BAED6,#4292C6,#2171B5,#08519C,#08306B">Blues</option>
<option value="BuGn" data-colors="#F7FCFD,#E5F5F9,#CCECE6,#99D8C9,#66C2A4,#41AE76,#238B45,#006D2C,#00441B">BuGn</option>
<option value="BuPu" data-colors="#F7FCFD,#E0ECF4,#BFD3E6,#9EBCDA,#8C96C6,#8C6BB1,#88419D,#810F7C,#4D004B">BuPu</option>
<option value="GnBu" data-colors="#F7FCF0,#E0F3DB,#CCEBC5,#A8DDB5,#7BCCC4,#4EB3D3,#2B8CBE,#0868AC,#084081">GnBu</option>
<option value="Greens" data-colors="#F7FCF5,#E5F5E0,#C7E9C0,#A1D99B,#74C476,#41AB5D,#238B45,#006D2C,#00441B">Greens</option>
<option value="Greys" data-colors="#FFFFFF,#F0F0F0,#D9D9D9,#BDBDBD,#969696,#737373,#525252,#252525,#000000">Greys</option>
<option value="Oranges" data-colors="#FFF5EB,#FEE6CE,#FDD0A2,#FDAE6B,#FD8D3C,#F16913,#D94801,#A63603,#7F2704">Oranges</option>
<option value="OrRd" data-colors="#FFF7EC,#FEE8C8,#FDD49E,#FDBB84,#FC8D59,#EF6548,#D7301F,#B30000,#7F0000">OrRd</option>
<option value="PuBu" data-colors="#FFF7FB,#ECE7F2,#D0D1E6,#A6BDDB,#74A9CF,#3690C0,#0570B0,#045A8D,#023858">PuBu</option>
<option value="PuBuGn" data-colors="#FFF7FB,#ECE2F0,#D0D1E6,#A6BDDB,#67A9CF,#3690C0,#02818A,#016C59,#014636">PuBuGn</option>
<option value="PuRd" data-colors="#F7F4F9,#E7E1EF,#D4B9DA,#C994C7,#DF65B0,#E7298A,#CE1256,#980043,#67001F">PuRd</option>
<option value="Purples" data-colors="#FCFBFD,#EFEDF5,#DADAEB,#BCBDDC,#9E9AC8,#807DBA,#6A51A3,#54278F,#3F007D">Purples</option>
<option value="RdPu" data-colors="#FFF7F3,#FDE0DD,#FCC5C0,#FA9FB5,#F768A1,#DD3497,#AE017E,#7A0177,#49006A">RdPu</option>
<option value="Reds" data-colors="#FFF5F0,#FEE0D2,#FCBBA1,#FC9272,#FB6A4A,#EF3B2C,#CB181D,#A50F15,#67000D">Reds</option>
<option value="YlGn" data-colors="#FFFFE5,#F7FCB9,#D9F0A3,#ADDD8E,#78C679,#41AB5D,#238443,#006837,#004529">YlGn</option>
<option value="YlGnBu" data-colors="#FFFFD9,#EDF8B1,#C7E9B4,#7FCDBB,#41B6C4,#1D91C0,#225EA8,#253494,#081D58">YlGnBu</option>
<option value="YlOrBr" data-colors="#FFFFE5,#FFF7BC,#FEE391,#FEC44F,#FE9929,#EC7014,#CC4C02,#993404,#662506">YlOrBr</option>
<option value="YlOrRd" data-colors="#FFFFCC,#FFEDA0,#FED976,#FEB24C,#FD8D3C,#FC4E2A,#E31A1C,#BD0026,#800026">YlOrRd</option>
</select>
<div class="palette-preview" data-layer="Blue Carbon"></div>
</div>
</div>
<div class="layer-style-item" data-layer="MSP">
<div class="layer-name">MSP</div>
<div class="style-control">
<label class="control-label-small">Opacity:</label>
<input type="range" class="alpha-slider" min="0.5" max="1" step="0.05" value="0.8" data-layer="MSP">
<span class="alpha-value">0.80</span>
</div>
<div class="style-control">
<label class="control-label-small">Palette:</label>
<select class="palette-selector" data-layer="MSP">
<option value="BrBG" data-colors="#8C510A,#BF812D,#DFC27D,#F6E8C3,#F5F5F5,#C7EAE5,#80CDC1,#35978F,#01665E">BrBG</option>
<option value="PiYG" data-colors="#C51B7D,#DE77AE,#F1B6DA,#FDE0EF,#F7F7F7,#E6F5D0,#B8E186,#7FBC41,#4D9221">PiYG</option>
<option value="PRGn" data-colors="#762A83,#9970AB,#C2A5CF,#E7D4E8,#F7F7F7,#D9F0D3,#A6DBA0,#5AAE61,#1B7837">PRGn</option>
<option value="PuOr" data-colors="#B35806,#E08214,#FDB863,#FEE0B6,#F7F7F7,#D8DAEB,#B2ABD2,#8073AC,#542788">PuOr</option>
<option value="RdBu" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#F7F7F7,#D1E5F0,#92C5DE,#4393C3,#2166AC">RdBu</option>
<option value="RdGy" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#FFFFFF,#E0E0E0,#BABABA,#878787,#4D4D4D">RdGy</option>
<option value="RdYlBu" data-colors="#D73027,#F46D43,#FDAE61,#FEE090,#FFFFBF,#E0F3F8,#ABD9E9,#74ADD1,#4575B4">RdYlBu</option>
<option value="RdYlGn" data-colors="#D73027,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#D9EF8B,#A6D96A,#66BD63,#1A9850">RdYlGn</option>
<option value="Spectral" data-colors="#D53E4F,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#E6F598,#ABDDA4,#66C2A5,#3288BD">Spectral</option>
<option value="Accent" data-colors="#7FC97F,#BEAED4,#FDC086,#FFFF99,#386CB0,#F0027F,#BF5B17,#666666">Accent</option>
<option value="Dark2" data-colors="#1B9E77,#D95F02,#7570B3,#E7298A,#66A61E,#E6AB02,#A6761D,#666666">Dark2</option>
<option value="Paired" data-colors="#A6CEE3,#1F78B4,#B2DF8A,#33A02C,#FB9A99,#E31A1C,#FDBF6F,#FF7F00,#CAB2D6">Paired</option>
<option value="Pastel1" data-colors="#FBB4AE,#B3CDE3,#CCEBC5,#DECBE4,#FED9A6,#FFFFCC,#E5D8BD,#FDDAEC,#F2F2F2">Pastel1</option>
<option value="Pastel2" data-colors="#B3E2CD,#FDCDAC,#CBD5E8,#F4CAE4,#E6F5C9,#FFF2AE,#F1E2CC,#CCCCCC">Pastel2</option>
<option value="Set1" data-colors="#E41A1C,#377EB8,#4DAF4A,#984EA3,#FF7F00,#FFFF33,#A65628,#F781BF,#999999">Set1</option>
<option value="Set2" data-colors="#66C2A5,#FC8D62,#8DA0CB,#E78AC3,#A6D854,#FFD92F,#E5C494,#B3B3B3">Set2</option>
<option value="Set3" data-colors="#8DD3C7,#FFFFB3,#BEBADA,#FB8072,#80B1D3,#FDB462,#B3DE69,#FCCDE5,#D9D9D9">Set3</option>
<option value="Blues" selected="" data-colors="#F7FBFF,#DEEBF7,#C6DBEF,#9ECAE1,#6BAED6,#4292C6,#2171B5,#08519C,#08306B">Blues</option>
<option value="BuGn" data-colors="#F7FCFD,#E5F5F9,#CCECE6,#99D8C9,#66C2A4,#41AE76,#238B45,#006D2C,#00441B">BuGn</option>
<option value="BuPu" data-colors="#F7FCFD,#E0ECF4,#BFD3E6,#9EBCDA,#8C96C6,#8C6BB1,#88419D,#810F7C,#4D004B">BuPu</option>
<option value="GnBu" data-colors="#F7FCF0,#E0F3DB,#CCEBC5,#A8DDB5,#7BCCC4,#4EB3D3,#2B8CBE,#0868AC,#084081">GnBu</option>
<option value="Greens" data-colors="#F7FCF5,#E5F5E0,#C7E9C0,#A1D99B,#74C476,#41AB5D,#238B45,#006D2C,#00441B">Greens</option>
<option value="Greys" data-colors="#FFFFFF,#F0F0F0,#D9D9D9,#BDBDBD,#969696,#737373,#525252,#252525,#000000">Greys</option>
<option value="Oranges" data-colors="#FFF5EB,#FEE6CE,#FDD0A2,#FDAE6B,#FD8D3C,#F16913,#D94801,#A63603,#7F2704">Oranges</option>
<option value="OrRd" data-colors="#FFF7EC,#FEE8C8,#FDD49E,#FDBB84,#FC8D59,#EF6548,#D7301F,#B30000,#7F0000">OrRd</option>
<option value="PuBu" data-colors="#FFF7FB,#ECE7F2,#D0D1E6,#A6BDDB,#74A9CF,#3690C0,#0570B0,#045A8D,#023858">PuBu</option>
<option value="PuBuGn" data-colors="#FFF7FB,#ECE2F0,#D0D1E6,#A6BDDB,#67A9CF,#3690C0,#02818A,#016C59,#014636">PuBuGn</option>
<option value="PuRd" data-colors="#F7F4F9,#E7E1EF,#D4B9DA,#C994C7,#DF65B0,#E7298A,#CE1256,#980043,#67001F">PuRd</option>
<option value="Purples" data-colors="#FCFBFD,#EFEDF5,#DADAEB,#BCBDDC,#9E9AC8,#807DBA,#6A51A3,#54278F,#3F007D">Purples</option>
<option value="RdPu" data-colors="#FFF7F3,#FDE0DD,#FCC5C0,#FA9FB5,#F768A1,#DD3497,#AE017E,#7A0177,#49006A">RdPu</option>
<option value="Reds" data-colors="#FFF5F0,#FEE0D2,#FCBBA1,#FC9272,#FB6A4A,#EF3B2C,#CB181D,#A50F15,#67000D">Reds</option>
<option value="YlGn" data-colors="#FFFFE5,#F7FCB9,#D9F0A3,#ADDD8E,#78C679,#41AB5D,#238443,#006837,#004529">YlGn</option>
<option value="YlGnBu" data-colors="#FFFFD9,#EDF8B1,#C7E9B4,#7FCDBB,#41B6C4,#1D91C0,#225EA8,#253494,#081D58">YlGnBu</option>
<option value="YlOrBr" data-colors="#FFFFE5,#FFF7BC,#FEE391,#FEC44F,#FE9929,#EC7014,#CC4C02,#993404,#662506">YlOrBr</option>
<option value="YlOrRd" data-colors="#FFFFCC,#FFEDA0,#FED976,#FEB24C,#FD8D3C,#FC4E2A,#E31A1C,#BD0026,#800026">YlOrRd</option>
</select>
<div class="palette-preview" data-layer="MSP"></div>
</div>
</div>
<div class="layer-style-item" data-layer="Physical">
<div class="layer-name">Physical</div>
<div class="style-control">
<label class="control-label-small">Opacity:</label>
<input type="range" class="alpha-slider" min="0.5" max="1" step="0.05" value="0.8" data-layer="Physical">
<span class="alpha-value">0.80</span>
</div>
<div class="style-control">
<label class="control-label-small">Palette:</label>
<select class="palette-selector" data-layer="Physical">
<option value="BrBG" data-colors="#8C510A,#BF812D,#DFC27D,#F6E8C3,#F5F5F5,#C7EAE5,#80CDC1,#35978F,#01665E">BrBG</option>
<option value="PiYG" data-colors="#C51B7D,#DE77AE,#F1B6DA,#FDE0EF,#F7F7F7,#E6F5D0,#B8E186,#7FBC41,#4D9221">PiYG</option>
<option value="PRGn" data-colors="#762A83,#9970AB,#C2A5CF,#E7D4E8,#F7F7F7,#D9F0D3,#A6DBA0,#5AAE61,#1B7837">PRGn</option>
<option value="PuOr" data-colors="#B35806,#E08214,#FDB863,#FEE0B6,#F7F7F7,#D8DAEB,#B2ABD2,#8073AC,#542788">PuOr</option>
<option value="RdBu" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#F7F7F7,#D1E5F0,#92C5DE,#4393C3,#2166AC">RdBu</option>
<option value="RdGy" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#FFFFFF,#E0E0E0,#BABABA,#878787,#4D4D4D">RdGy</option>
<option value="RdYlBu" data-colors="#D73027,#F46D43,#FDAE61,#FEE090,#FFFFBF,#E0F3F8,#ABD9E9,#74ADD1,#4575B4">RdYlBu</option>
<option value="RdYlGn" data-colors="#D73027,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#D9EF8B,#A6D96A,#66BD63,#1A9850">RdYlGn</option>
<option value="Spectral" data-colors="#D53E4F,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#E6F598,#ABDDA4,#66C2A5,#3288BD">Spectral</option>
<option value="Accent" data-colors="#7FC97F,#BEAED4,#FDC086,#FFFF99,#386CB0,#F0027F,#BF5B17,#666666">Accent</option>
<option value="Dark2" data-colors="#1B9E77,#D95F02,#7570B3,#E7298A,#66A61E,#E6AB02,#A6761D,#666666">Dark2</option>
<option value="Paired" data-colors="#A6CEE3,#1F78B4,#B2DF8A,#33A02C,#FB9A99,#E31A1C,#FDBF6F,#FF7F00,#CAB2D6">Paired</option>
<option value="Pastel1" data-colors="#FBB4AE,#B3CDE3,#CCEBC5,#DECBE4,#FED9A6,#FFFFCC,#E5D8BD,#FDDAEC,#F2F2F2">Pastel1</option>
<option value="Pastel2" data-colors="#B3E2CD,#FDCDAC,#CBD5E8,#F4CAE4,#E6F5C9,#FFF2AE,#F1E2CC,#CCCCCC">Pastel2</option>
<option value="Set1" data-colors="#E41A1C,#377EB8,#4DAF4A,#984EA3,#FF7F00,#FFFF33,#A65628,#F781BF,#999999">Set1</option>
<option value="Set2" data-colors="#66C2A5,#FC8D62,#8DA0CB,#E78AC3,#A6D854,#FFD92F,#E5C494,#B3B3B3">Set2</option>
<option value="Set3" data-colors="#8DD3C7,#FFFFB3,#BEBADA,#FB8072,#80B1D3,#FDB462,#B3DE69,#FCCDE5,#D9D9D9">Set3</option>
<option value="Blues" selected="" data-colors="#F7FBFF,#DEEBF7,#C6DBEF,#9ECAE1,#6BAED6,#4292C6,#2171B5,#08519C,#08306B">Blues</option>
<option value="BuGn" data-colors="#F7FCFD,#E5F5F9,#CCECE6,#99D8C9,#66C2A4,#41AE76,#238B45,#006D2C,#00441B">BuGn</option>
<option value="BuPu" data-colors="#F7FCFD,#E0ECF4,#BFD3E6,#9EBCDA,#8C96C6,#8C6BB1,#88419D,#810F7C,#4D004B">BuPu</option>
<option value="GnBu" data-colors="#F7FCF0,#E0F3DB,#CCEBC5,#A8DDB5,#7BCCC4,#4EB3D3,#2B8CBE,#0868AC,#084081">GnBu</option>
<option value="Greens" data-colors="#F7FCF5,#E5F5E0,#C7E9C0,#A1D99B,#74C476,#41AB5D,#238B45,#006D2C,#00441B">Greens</option>
<option value="Greys" data-colors="#FFFFFF,#F0F0F0,#D9D9D9,#BDBDBD,#969696,#737373,#525252,#252525,#000000">Greys</option>
<option value="Oranges" data-colors="#FFF5EB,#FEE6CE,#FDD0A2,#FDAE6B,#FD8D3C,#F16913,#D94801,#A63603,#7F2704">Oranges</option>
<option value="OrRd" data-colors="#FFF7EC,#FEE8C8,#FDD49E,#FDBB84,#FC8D59,#EF6548,#D7301F,#B30000,#7F0000">OrRd</option>
<option value="PuBu" data-colors="#FFF7FB,#ECE7F2,#D0D1E6,#A6BDDB,#74A9CF,#3690C0,#0570B0,#045A8D,#023858">PuBu</option>
<option value="PuBuGn" data-colors="#FFF7FB,#ECE2F0,#D0D1E6,#A6BDDB,#67A9CF,#3690C0,#02818A,#016C59,#014636">PuBuGn</option>
<option value="PuRd" data-colors="#F7F4F9,#E7E1EF,#D4B9DA,#C994C7,#DF65B0,#E7298A,#CE1256,#980043,#67001F">PuRd</option>
<option value="Purples" data-colors="#FCFBFD,#EFEDF5,#DADAEB,#BCBDDC,#9E9AC8,#807DBA,#6A51A3,#54278F,#3F007D">Purples</option>
<option value="RdPu" data-colors="#FFF7F3,#FDE0DD,#FCC5C0,#FA9FB5,#F768A1,#DD3497,#AE017E,#7A0177,#49006A">RdPu</option>
<option value="Reds" data-colors="#FFF5F0,#FEE0D2,#FCBBA1,#FC9272,#FB6A4A,#EF3B2C,#CB181D,#A50F15,#67000D">Reds</option>
<option value="YlGn" data-colors="#FFFFE5,#F7FCB9,#D9F0A3,#ADDD8E,#78C679,#41AB5D,#238443,#006837,#004529">YlGn</option>
<option value="YlGnBu" data-colors="#FFFFD9,#EDF8B1,#C7E9B4,#7FCDBB,#41B6C4,#1D91C0,#225EA8,#253494,#081D58">YlGnBu</option>
<option value="YlOrBr" data-colors="#FFFFE5,#FFF7BC,#FEE391,#FEC44F,#FE9929,#EC7014,#CC4C02,#993404,#662506">YlOrBr</option>
<option value="YlOrRd" data-colors="#FFFFCC,#FFEDA0,#FED976,#FEB24C,#FD8D3C,#FC4E2A,#E31A1C,#BD0026,#800026">YlOrRd</option>
</select>
<div class="palette-preview" data-layer="Physical"></div>
</div>
</div>
<div class="layer-style-item" data-layer="Temperature/Chemical">
<div class="layer-name">Temperature/Chemical</div>
<div class="style-control">
<label class="control-label-small">Opacity:</label>
<input type="range" class="alpha-slider" min="0.5" max="1" step="0.05" value="0.8" data-layer="Temperature/Chemical">
<span class="alpha-value">0.80</span>
</div>
<div class="style-control">
<label class="control-label-small">Palette:</label>
<select class="palette-selector" data-layer="Temperature/Chemical">
<option value="BrBG" data-colors="#8C510A,#BF812D,#DFC27D,#F6E8C3,#F5F5F5,#C7EAE5,#80CDC1,#35978F,#01665E">BrBG</option>
<option value="PiYG" data-colors="#C51B7D,#DE77AE,#F1B6DA,#FDE0EF,#F7F7F7,#E6F5D0,#B8E186,#7FBC41,#4D9221">PiYG</option>
<option value="PRGn" data-colors="#762A83,#9970AB,#C2A5CF,#E7D4E8,#F7F7F7,#D9F0D3,#A6DBA0,#5AAE61,#1B7837">PRGn</option>
<option value="PuOr" data-colors="#B35806,#E08214,#FDB863,#FEE0B6,#F7F7F7,#D8DAEB,#B2ABD2,#8073AC,#542788">PuOr</option>
<option value="RdBu" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#F7F7F7,#D1E5F0,#92C5DE,#4393C3,#2166AC">RdBu</option>
<option value="RdGy" data-colors="#B2182B,#D6604D,#F4A582,#FDDBC7,#FFFFFF,#E0E0E0,#BABABA,#878787,#4D4D4D">RdGy</option>
<option value="RdYlBu" data-colors="#D73027,#F46D43,#FDAE61,#FEE090,#FFFFBF,#E0F3F8,#ABD9E9,#74ADD1,#4575B4">RdYlBu</option>
<option value="RdYlGn" data-colors="#D73027,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#D9EF8B,#A6D96A,#66BD63,#1A9850">RdYlGn</option>
<option value="Spectral" data-colors="#D53E4F,#F46D43,#FDAE61,#FEE08B,#FFFFBF,#E6F598,#ABDDA4,#66C2A5,#3288BD">Spectral</option>
<option value="Accent" data-colors="#7FC97F,#BEAED4,#FDC086,#FFFF99,#386CB0,#F0027F,#BF5B17,#666666">Accent</option>
<option value="Dark2" data-colors="#1B9E77,#D95F02,#7570B3,#E7298A,#66A61E,#E6AB02,#A6761D,#666666">Dark2</option>
<option value="Paired" data-colors="#A6CEE3,#1F78B4,#B2DF8A,#33A02C,#FB9A99,#E31A1C,#FDBF6F,#FF7F00,#CAB2D6">Paired</option>
<option value="Pastel1" data-colors="#FBB4AE,#B3CDE3,#CCEBC5,#DECBE4,#FED9A6,#FFFFCC,#E5D8BD,#FDDAEC,#F2F2F2">Pastel1</option>
<option value="Pastel2" data-colors="#B3E2CD,#FDCDAC,#CBD5E8,#F4CAE4,#E6F5C9,#FFF2AE,#F1E2CC,#CCCCCC">Pastel2</option>
<option value="Set1" data-colors="#E41A1C,#377EB8,#4DAF4A,#984EA3,#FF7F00,#FFFF33,#A65628,#F781BF,#999999">Set1</option>
<option value="Set2" data-colors="#66C2A5,#FC8D62,#8DA0CB,#E78AC3,#A6D854,#FFD92F,#E5C494,#B3B3B3">Set2</option>
<option value="Set3" data-colors="#8DD3C7,#FFFFB3,#BEBADA,#FB8072,#80B1D3,#FDB462,#B3DE69,#FCCDE5,#D9D9D9">Set3</option>
<option value="Blues" selected="" data-colors="#F7FBFF,#DEEBF7,#C6DBEF,#9ECAE1,#6BAED6,#4292C6,#2171B5,#08519C,#08306B">Blues</option>
<option value="BuGn" data-colors="#F7FCFD,#E5F5F9,#CCECE6,#99D8C9,#66C2A4,#41AE76,#238B45,#006D2C,#00441B">BuGn</option>
<option value="BuPu" data-colors="#F7FCFD,#E0ECF4,#BFD3E6,#9EBCDA,#8C96C6,#8C6BB1,#88419D,#810F7C,#4D004B">BuPu</option>
<option value="GnBu" data-colors="#F7FCF0,#E0F3DB,#CCEBC5,#A8DDB5,#7BCCC4,#4EB3D3,#2B8CBE,#0868AC,#084081">GnBu</option>
<option value="Greens" data-colors="#F7FCF5,#E5F5E0,#C7E9C0,#A1D99B,#74C476,#41AB5D,#238B45,#006D2C,#00441B">Greens</option>
<option value="Greys" data-colors="#FFFFFF,#F0F0F0,#D9D9D9,#BDBDBD,#969696,#737373,#525252,#252525,#000000">Greys</option>
<option value="Oranges" data-colors="#FFF5EB,#FEE6CE,#FDD0A2,#FDAE6B,#FD8D3C,#F16913,#D94801,#A63603,#7F2704">Oranges</option>
<option value="OrRd" data-colors="#FFF7EC,#FEE8C8,#FDD49E,#FDBB84,#FC8D59,#EF6548,#D7301F,#B30000,#7F0000">OrRd</option>
<option value="PuBu" data-colors="#FFF7FB,#ECE7F2,#D0D1E6,#A6BDDB,#74A9CF,#3690C0,#0570B0,#045A8D,#023858">PuBu</option>
<option value="PuBuGn" data-colors="#FFF7FB,#ECE2F0,#D0D1E6,#A6BDDB,#67A9CF,#3690C0,#02818A,#016C59,#014636">PuBuGn</option>
<option value="PuRd" data-colors="#F7F4F9,#E7E1EF,#D4B9DA,#C994C7,#DF65B0,#E7298A,#CE1256,#980043,#67001F">PuRd</option>
<option value="Purples" data-colors="#FCFBFD,#EFEDF5,#DADAEB,#BCBDDC,#9E9AC8,#807DBA,#6A51A3,#54278F,#3F007D">Purples</option>
<option value="RdPu" data-colors="#FFF7F3,#FDE0DD,#FCC5C0,#FA9FB5,#F768A1,#DD3497,#AE017E,#7A0177,#49006A">RdPu</option>
<option value="Reds" data-colors="#FFF5F0,#FEE0D2,#FCBBA1,#FC9272,#FB6A4A,#EF3B2C,#CB181D,#A50F15,#67000D">Reds</option>
<option value="YlGn" data-colors="#FFFFE5,#F7FCB9,#D9F0A3,#ADDD8E,#78C679,#41AB5D,#238443,#006837,#004529">YlGn</option>
<option value="YlGnBu" data-colors="#FFFFD9,#EDF8B1,#C7E9B4,#7FCDBB,#41B6C4,#1D91C0,#225EA8,#253494,#081D58">YlGnBu</option>
<option value="YlOrBr" data-colors="#FFFFE5,#FFF7BC,#FEE391,#FEC44F,#FE9929,#EC7014,#CC4C02,#993404,#662506">YlOrBr</option>
<option value="YlOrRd" data-colors="#FFFFCC,#FFEDA0,#FED976,#FEB24C,#FD8D3C,#FC4E2A,#E31A1C,#BD0026,#800026">YlOrRd</option>
</select>
<div class="palette-preview" data-layer="Temperature/Chemical"></div>
</div>
</div>
</div>
<div class="apply-button-container">
<button type="button" class="btn btn-primary apply-style-btn" id="atlasLayerStyle_apply">Apply Style</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="bottom-container">
<div class="grid gridaltsm">
<div class="g-col-5">

</div>
<div class="g-col-4">

</div>
<div class="g-col-3">

</div>
</div>
</div>
<div class="context-icons">
<div class="cell">
<div class="cell-output-display">
<div class="context-icons-box">
<a id="downloadDataSpecies" href="#" class="action-button">
<span style="color: #545454 !important;">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-download " style="height:1em;width:1em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"></path>
<path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"></path></svg>
DOWNLOAD THE DATA
</span>
</a>
</div>
</div>
</div>
<div class="context-icons-box" onclick="location.href='https://github.com/iobis/mpaeu_sdm/blob/main/codes/model_fit.R';">
<i class="fa-brands fa-github" aria-label="github"></i> ACCESS THE CODE
</div>
<div class="cell">
<div class="cell-output-display">
<div class="context-icons-box">
<a id="runModelSpecies" href="#" class="action-button">
<span style="color: #545454 !important;">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-play-fill " style="height:1em;width:1em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path></svg>
RUN THE MODEL
</span>
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- HERE STARTS THE SECOND SECTION - GRAPHS, AND ETC -->
<!-- add toolbar here -->
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.speciesSelect !== '' &amp;&amp; (input.jsValue?.id ?? 'species') === 'species'" data-ns-prefix="">
<div class="ecsp-controls" width="100%">
<div class="form-group shiny-input-container" style="width:360px;">
<label class="control-label" id="ecspMask-label" for="ecspMask">
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Predictions are made for the whole globe, even in areas where the species does not occur today. Masks highlight only areas close to the area of occurrence of the species. You can turn the mask on/off by clicking on the 'eye' icon on the map.</template>
<span>
Mask type:
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</label>
<div>
<select id="ecspMask" class="shiny-input-select"><option value="fit_region_max_depth" selected="">Fit area (max. depth)</option>
<option value="native_ecoregions">Native Realms</option>
<option value="fit_region">Fit area</option>
<option value="convex_hull">Convex Hull</option>
<option value="minbounding_circle">Min. bounding circle</option>
<option value="buffer100m">Buffer 100m</option></select>
<script type="application/json" data-for="ecspMask" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="form-group shiny-input-container" style="width:220px;">
<label class="control-label" id="ecspBin-label" for="ecspBin">
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>You can use a threshold to remove areas of the prediction. This is similar to converting a prediction to binary, except that in this case only the unsuitable part is removed, and the rest is kept on continuous mode. Available are P10 (10th percentile), MSS (maximum sensitivity plus specificity) and MTP (minimum training presence).</template>
<span>
Filter:
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</label>
<div>
<select id="ecspBin" class="shiny-input-select"><option value="none" selected="">None</option>
<option value="p10">P10</option>
<option value="maxsss">MSS</option>
<option value="mtp">MTP</option></select>
<script type="application/json" data-for="ecspBin" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspBoot" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspBoot">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show uncertainty, as bootstrap CV, if available.</template>
<span>
Show uncertainty
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspRealms" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspRealms">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show Costello et al. 2017 realms.</template>
<span>
Show realms
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspEEZ" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspEEZ">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show EEZs - Flanders Marine Institute (2020). The intersect of the Exclusive Economic Zones and IHO sea areas, version 4. Available online at https://www.marineregions.org/</template>
<span>
Show EEZs
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspMPA" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspMPA">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show MPAs - Not available at this moment</template>
<span>
Show MPAs
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
</div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.speciesSelectThermal !== '' &amp;&amp; (input.jsValue?.id ?? 'thermal') === 'thermal'" data-ns-prefix="">
<div class="ecsp-controls" width="100%">
<div class="form-group shiny-input-container" style="width:360px;">
<label class="control-label" id="ecspMask-label" for="ecspMask">
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Predictions are made for the whole globe, even in areas where the species does not occur today. Masks highlight only areas close to the area of occurrence of the species. You can turn the mask on/off by clicking on the 'eye' icon on the map.</template>
<span>
Mask type:
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</label>
<div>
<select id="ecspMask" class="shiny-input-select"><option value="fit_region_max_depth" selected="">Fit area (max. depth)</option>
<option value="native_ecoregions">Native Realms</option>
<option value="fit_region">Fit area</option>
<option value="convex_hull">Convex Hull</option>
<option value="minbounding_circle">Min. bounding circle</option>
<option value="buffer100m">Buffer 100m</option></select>
<script type="application/json" data-for="ecspMask" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspRealms" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspRealms">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show Costello et al. 2017 realms.</template>
<span>
Show realms
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspEEZ" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspEEZ">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show EEZs - Flanders Marine Institute (2020). The intersect of the Exclusive Economic Zones and IHO sea areas, version 4. Available online at https://www.marineregions.org/</template>
<span>
Show EEZs
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspMPA" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspMPA">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show MPAs - Not available at this moment</template>
<span>
Show MPAs
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
</div>
</div>
</div>
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.habitatSelect !== '' &amp;&amp; (input.jsValue?.id ?? 'habitat') === 'habitat'" data-ns-prefix="">
<div class="ecsp-controls" width="100%">
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspRealms" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspRealms">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show Costello et al. 2017 realms.</template>
<span>
Show realms
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspEEZ" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspEEZ">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show EEZs - Flanders Marine Institute (2020). The intersect of the Exclusive Economic Zones and IHO sea areas, version 4. Available online at https://www.marineregions.org/</template>
<span>
Show EEZs
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspMPA" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspMPA">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show MPAs - Not available at this moment</template>
<span>
Show MPAs
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
</div>
</div>
</div>
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.diversitySelect !== '' &amp;&amp; (input.jsValue?.id ?? 'diversity') === 'diversity'" data-ns-prefix="">
<div class="ecsp-controls" width="100%">
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspRealms" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspRealms">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show Costello et al. 2017 realms.</template>
<span>
Show realms
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspEEZ" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspEEZ">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show EEZs - Flanders Marine Institute (2020). The intersect of the Exclusive Economic Zones and IHO sea areas, version 4. Available online at https://www.marineregions.org/</template>
<span>
Show EEZs
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
<div class="form-group shiny-input-container" data-require-bs-version="5" data-require-bs-caller="input_switch()">
<div class="bslib-input-switch form-switch form-check">
<input id="ecspMPA" class="form-check-input" type="checkbox" role="switch">
<label class="form-check-label" for="ecspMPA">
<span>
<bslib-tooltip placement="bottom" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>Show MPAs - Not available at this moment</template>
<span>
Show MPAs
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-info-circle " style="height:0.7em;width:0.7em;fill:currentColor;vertical-align:-0.125em;" aria-hidden="true" role="img"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path></svg>
</span>
</bslib-tooltip>
</span>
</label>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="body-section">
<div class="grid">
<!-- Table 1 --->
<div class="g-col-md-6 g-col-12" data-display-if="!input.jsValue || !(input.jsValue.id == 'habitat' || input.jsValue.id == 'diversity' || input.jsValue.id == 'atlas')">
<p></p><div id="table1-title" class="body-title"> <div id="tableATitle" class="shiny-text-output"></div> </div><p></p>
<div class="cell">
<div class="cell-output-display">
<div class="reactable html-widget html-widget-output shiny-report-size html-fill-item" data-reactable-output="tableA" id="tableA" style="width:auto;height:auto;"></div>
</div>
</div>
</div>
<!-- Graphic 1 -->
<div class="g-col-md-6 g-col-12" data-display-if="!input.jsValue || !(input.jsValue.id == 'habitat' || input.jsValue.id == 'diversity' || input.jsValue.id == 'atlas')">
<p></p><div id="graph-title" class="body-title"> <div id="graphTitle" class="shiny-text-output"></div> </div><p></p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-widget-output shiny-report-size shiny-report-theme html-fill-item" id="plotA" style="width:100%;height:400px;"></div>
</div>
</div>
</div>
<!-- Table 2 --->
<div class="g-col-md-6 g-col-12">
<p></p><div id="table1-title" class="body-title"> <div id="tableBTitle" class="shiny-text-output"></div> </div><p></p>
<div class="cell">
<div class="cell-output-display">
<div class="reactable html-widget html-widget-output shiny-report-size html-fill-item" data-reactable-output="tableB" id="tableB" style="width:auto;height:auto;"></div>
</div>
</div>
</div>
<!-- Text 1 -->
<div class="g-col-md-6 g-col-12">
<p></p><div id="text-title" class="body-title"> <div id="textTitle" class="shiny-text-output"></div> </div><p></p>
<p></p><div id="text-title" class="body-text"> <div id="textModel" class="shiny-text-output"></div> </div><p></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.speciesSelect !== '' &amp;&amp; (input.jsValue?.id ?? 'species') === 'species'" data-ns-prefix="">
<div>
<br>
<br>
<div id="extraButtons" class="extra-buttons-cont">
<button class="btn btn-default action-button extra-button" id="extraButton" type="button">
<i class="fas fa-layer-group" role="presentation" aria-label="layer-group icon"></i>
Show additional information
</button>
<button class="btn btn-default action-button download-button" id="speciesReportAction" type="button">
<i class="fas fa-download" role="presentation" aria-label="download icon"></i>
Download species report
</button>
</div>
<br>
</div>
</div>
</div>
</div>
<!-- Extra info section -->
<div class="grid">
<!-- Table EXTRA --->
<div class="g-col-md-4 g-col-12">
<div class="cell">
<div class="cell-output-display">
<div class="shiny-panel-conditional" data-display-if="input.extraButton != 0 &amp;&amp; input.extraButton % 2 != 0 &amp;&amp; (input.jsValue?.id ?? 'species') === 'species'" data-ns-prefix="">
<div class="shiny-plot-output html-fill-item" id="extraPlotA" style="width:100%;height:600px;"></div>
<div>
The K-function is a tool that can be used to assess the dependence between locations at different distances. The L-function transform the K-function to a straight line and makes interpretation easier. Both tools can be used to assess the clustering of the points. To know more
<a href="https://www.paulamoraga.com/book-spatial/the-k-function.html#the-k-function">read this article.</a>
</div>
</div>
</div>
</div>
</div>
<!-- Graphic EXTRA -->
<div class="g-col-md-8 g-col-12">
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.extraButton != 0 &amp;&amp; input.extraButton % 2 != 0 &amp;&amp; (input.jsValue?.id ?? 'species') === 'species'" data-ns-prefix="">
<div style="font-size: smaller; width: min-content; justify-self: center;">
<div class="form-group shiny-input-container">
<label class="control-label" id="extraPlotBSelect-label" for="extraPlotBSelect">Scenario and period</label>
<div>
<select id="extraPlotBSelect" class="shiny-input-select"><option value="current" selected="">Current</option>
<option value="ssp126_dec50">SSP1 2050</option>
<option value="ssp126_dec100">SSP1 2100</option>
<option value="ssp245_dec50">SSP2 2050</option>
<option value="ssp245_dec100">SSP2 2100</option>
<option value="ssp370_dec50">SSP3 2050</option>
<option value="ssp370_dec100">SSP3 2100</option>
<option value="ssp460_dec50">SSP4 2050</option>
<option value="ssp460_dec100">SSP4 2100</option>
<option value="ssp585_dec50">SSP5 2050</option>
<option value="ssp585_dec100">SSP5 2100</option></select>
<script type="application/json" data-for="extraPlotBSelect" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="shiny-plot-output html-fill-item" id="extraPlotB" style="width:100%;height:600px;"></div>
<div>
The SHAPE is a new method of estimating model extrapolation. The higher the value of the SHAPE statistic, the higher is the extrapolation at that particular area. To know more
<a href="https://doi.org/10.1111/ecog.06992">read this article.</a>
MESS also enable to see the areas where the model is extrapolating when making predictions. Areas with values different than 0 depict extrapolation. The value shows how many variables are causing the extrapolation in that cell. To learn more about MESS
<a href="https://doi.org/10.1111/j.2041-210X.2010.00036.x">read this article.</a>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div class="shiny-panel-conditional" data-display-if="input.extraButton != 0 &amp;&amp; input.extraButton % 2 != 0 &amp;&amp; (input.jsValue?.id ?? 'species') === 'species'" data-ns-prefix="">
<div>
<br>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template>This section shows details about the model fitting, such as parameters used to train the models and number of occurrence points used. To understand what each value refers to, see the 'What are the properties' value in the explorer.</template>
<span class="body-title">Model details</span>
</bslib-tooltip>
<br>
<div id="speciesJsonLog" class="shiny-html-output" width="100%"></div>
</div>
</div>
</div>
</div>
</div>
<!-- METHODS AND FOOTER SECTION -->
<!-- HERE STARTS THE METHODS SECTION -->
<div class="methods-div">
<section id="how-models-were-created" class="level2">
<h2 data-anchor-id="how-models-were-created">How models were created?</h2>
<p>Models were created using a point-process framework. Details on the modelling framework adopted by MPA Europe, including the full documentation are available <a href="https://iobis.github.io/mpaeu_docs/">in this link.</a></p>
</section>
<section id="how-should-i-use-this-information" class="level2">
<h2 data-anchor-id="how-should-i-use-this-information">How should I use this information?</h2>
<p>Species Distribution Models (SDMs) provide valuable insights for both research and conservation efforts. These maps depict the relative and potential suitability of habitats for a particular species, aiding researchers and conservationists in understanding where a species could potentially occur. It is important to note that SDMs show suitability rather than presence, meaning the species may not actually occur throughout the entire extent indicated on the map. Additionally, there is inherent uncertainty associated with all SDM maps, stemming from various factors such as data quality, model assumptions, and environmental variability. Therefore, while SDMs offer valuable information, their results should be interpreted critically, considering the limitations and uncertainties associated with the models.</p>
</section>
<section id="how-to-cite" class="level2">
<h2 data-anchor-id="how-to-cite">How to cite</h2>
<p>When using data from this platform, please cite it as follows:</p>
<p>Ocean Biodiversity information System (OBIS). (2024). Species distribution dashboard for MPA Europe. (version 0.1.0). https://shiny.obis.org/distmaps. Zenodo. https://doi.org/10.5281/zenodo.14524781</p>
</section>
</div>
<!-- HERE STARTS THE FOOTER -->
<div id="footer-div" class="footer-div">
<section id="mpa-europe-project" class="level2">
<h2 data-anchor-id="mpa-europe-project">MPA Europe project</h2>
<p>Using a holistic range of measures that include the range of biodiversity from species to ecosystems, including habitats, areas will be prioritised using systematic conservation planning software. This enables alternative weighting of variables and multiple scenarios and thus support wider marine spatial planning.</p>
<div class="grid">
<div id="footer-links" class="g-col-md-3 g-col-12">
<section id="explore-more" class="level3">
<h3 data-anchor-id="explore-more">Explore more</h3>
<p><a href="https://mpa-europe.eu/"><span class="material-symbols-outlined" style="font-size: 12px; vertical-align: middle !important;">chevron_right</span>MPA Europe</a><br>
<a href="https://obis.org"><span class="material-symbols-outlined" style="font-size: 12px; vertical-align: middle !important;">chevron_right</span>OBIS</a></p>
<p>Product created by the <a href="https://obis.org">Ocean Biodiversity Information System</a></p>
<p><img src="www/obis_logo.png" class="img-fluid" style="width:80.0%"></p>
</section>
</div>
<div id="footer-credits" class="g-col-md-9 g-col-12">
<section id="support" class="level3">
<h3 data-anchor-id="support">Support</h3>
<p>Grant Agreement 101059988 – MPA Europe | MPA Europe project has been approved under HORIZON-CL6-2021-BIODIV-01-12 — Improved science based maritime spatial planning and identification of marine protected areas.</p>
<p>Co-funded by the European Union. Views and opinions expressed are however those of the authors only and do not necessarily reflect those of the European Union or UK Research and Innovation. Neither the European Union nor the granting authority can be held responsible for them.</p>
<p><img src="www/euuk_logo.png" class="img-fluid" style="width:50.0%"></p>
</section>
</div>
</div>
<div style="font-size: 8px; color: white; text-align: center;">
All data shown in this website is under a CC-0 licence. See project status <a href="https://github.com/iobis/mpaeu_map_platform/blob/main/NEWS.md" target="_blank" style="color: #B2EDFA !important;">here</a>
</div>
</section>
</div>
<p>
<script type="application/shiny-prerendered" data-context="server-start">
# Settings ----
debug = T # Set here to TRUE to see debugging messages

# Load server start
source("components/serverstart.R", local = TRUE)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# This is the code that is executed on the server

### Map renders ----
source("components/maprenders.R", local = TRUE)

### Tab actions ----
source("components/tabactions.R", local = TRUE)

### Tab contexts ----
source("components/tabcontexts.R", local = TRUE)

### Options -----
source("components/updateoptions.R", local = TRUE)

### User input info ----
source("components/selectinfo.R", local = TRUE)

### Load accessory data -----
source("components/dataloaders.R", local = TRUE)

### Map reactive -----
source("components/mapreactive.R", local = TRUE)
  
### Contextual info ----
source("components/contextualinfo.R", local = TRUE)

### Info renders ----
source("components/renders.R", local = TRUE)

### Downloads ----
source("components/downloads.R", local = TRUE)

### Extra info ----
source("components/extrainfo.R", local = TRUE)

### Drawing context info ----
source("components/extrainfomaps.R", local = TRUE)
</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(function(q, nm, val) {
    # Infer name, if possible
    if (nm == "") {
      tryCatch({
        nm <- rlang::as_name(q)
      }, error = function(e) {
        code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
        stop("ojs_define() could not create a name for the argument: ", code)
      })
    }
    .session$output[[nm]] <- val
    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
    .session$sendCustomMessage("ojs-export", list(name = nm))
    NULL
  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)
  invisible()
}
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["waiter"]},{"type":"character","attributes":{},"value":["0.2.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["packer"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["waiter.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["waiter"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.2.5"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.8.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.8.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.6.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["leaflet"]},{"type":"character","attributes":{},"value":["1.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/leaflet"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["leaflet.js"]},{"type":"character","attributes":{},"value":["leaflet.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["leaflet"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.2.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["leafletfix"]},{"type":"character","attributes":{},"value":["1.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/leafletfix"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["leafletfix.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["leaflet"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.2.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["proj4"]},{"type":"character","attributes":{},"value":["2.6.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/plugins/Proj4Leaflet"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["proj4.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["leaflet"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["2.2.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["Proj4Leaflet"]},{"type":"character","attributes":{},"value":["1.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/plugins/Proj4Leaflet"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["proj4leaflet.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["leaflet"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["2.2.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["rstudio_leaflet"]},{"type":"character","attributes":{},"value":["1.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/rstudio_leaflet"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rstudio_leaflet.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["leaflet"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.2.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["leaflet-binding"]},{"type":"character","attributes":{},"value":["2.2.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/assets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["leaflet.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["leaflet"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["2.2.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["core-js"]},{"type":"character","attributes":{},"value":["2.5.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/core-js"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["shim.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.6.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["react"]},{"type":"character","attributes":{},"value":["18.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react.min.js","react-dom.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.6.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactwidget"]},{"type":"character","attributes":{},"value":["2.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react-tools"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react-tools.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.6.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.8.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.8.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.6.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactable"]},{"type":"character","attributes":{},"value":["0.4.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactable-binding"]},{"type":"character","attributes":{},"value":["0.4.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.8.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.8.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.6.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.10.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["4.10.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["core-js"]},{"type":"character","attributes":{},"value":["2.5.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/core-js"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["shim.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.6.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["react"]},{"type":"character","attributes":{},"value":["18.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react.min.js","react-dom.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.6.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactwidget"]},{"type":"character","attributes":{},"value":["2.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/react-tools"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["react-tools.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactR"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.6.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.8.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.8.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.6.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactable"]},{"type":"character","attributes":{},"value":["0.4.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["reactable-binding"]},{"type":"character","attributes":{},"value":["0.4.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["reactable"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.4.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["6.4.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.min.css","css/v4-shims.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fontawesome"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.8.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.8.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.1.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.8.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.8.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.7.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.7.0"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75]}},"value":[{"type":"character","attributes":{},"value":["arrow","assertthat","base","bit","bit64","bsicons","bslib","cachem","cli","colorspace","compiler","crosstalk","data.table","datasets","digest","dplyr","evaluate","fastmap","fontawesome","generics","ggplot2","glue","graphics","grDevices","grid","gtable","htmltools","htmlwidgets","httpuv","httr","jquerylib","jsonlite","knitr","later","lazyeval","leaflet","leaflet.extras","leaflet.extras2","leaflet.providers","lifecycle","magrittr","memoise","methods","mime","munsell","pillar","pkgconfig","plotly","promises","purrr","R6","RColorBrewer","Rcpp","reactable","reactR","rlang","rmarkdown","sass","scales","shiny","stats","stringi","stringr","tibble","tidyr","tidyselect","tools","utils","vctrs","viridisLite","waiter","withr","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["20.0.0.2","0.2.1","4.3.1","4.0.5","4.0.5","0.1.2","0.7.0","1.0.8","3.6.2","2.1-0","4.3.1","1.2.1","1.15.4","4.3.1","0.6.35","1.1.4","0.23","1.1.1","0.5.2","0.1.3","3.5.1","1.7.0","4.3.1","4.3.1","4.3.1","0.3.5","0.5.8.1","1.6.4","1.6.15","1.4.7","0.1.4","1.8.8","1.45","1.3.2","0.2.2","2.2.2","1.0.0","1.2.2","2.0.0","1.0.4","2.0.3","2.0.1","4.3.1","0.12","0.5.1","1.11.0","2.0.3","4.10.4","1.3.0","1.0.2","2.5.1","1.1-3","1.0.12","0.4.4","0.6.1","1.1.3","2.26","0.4.9","1.3.0","1.8.1.1","4.3.1","1.8.4","1.5.1","3.2.1","1.3.1","1.2.1","4.3.1","4.3.1","0.6.5","0.4.2","0.2.5","3.0.0","0.49","1.8-4","2.3.8"]}]}]}
</script>
<!--/html_preserve-->


<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /container fluid -->




</body></html>
